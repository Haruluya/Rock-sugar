"use strict";(self["webpackChunkrock_sugar"]=self["webpackChunkrock_sugar"]||[]).push([[544],{5544:function(e,i,t){t.r(i),t.d(i,{default:function(){return o}});var a=t(3396);function s(e,i,t,s,r,n){const c=(0,a.up)("nano_cg_experiment_page");return(0,a.wg)(),(0,a.j4)(c,{prop_des_data:r.desData,prop_ui_setter:n.uiSetter,prop_section_params:r.sectionParams,ref:"page"},null,8,["prop_des_data","prop_ui_setter","prop_section_params"])}var r=t(2812);const n={category:"Experiment",name:"DrawEllipse",buttonContent:"查看源码",title:"绘制椭圆",content:"Draw an ellipse."};var c={name:"DrawEllipse",data(){return{canvas:null,ctx:null,desData:n,sectionParams:{circleCenter:{x:30,y:18},radiusA:20,radiusB:10,color:"#0bc6e3",girdSize:6,debugContent:null,screenTransform:{x:0,y:0,scale:100}}}},computed:{uiSetter(){let e=this.sectionParams;return[{type:"slider-vector",id:"circleCenter",value:e.circleCenter,min:{x:0,y:0},max:{x:500,y:500},callback:r.Z.globalUiCallbacks.updatePoint(this,"circleCenter")},{type:"slider",id:"radiusA",value:e.radiusA,min:0,max:100,callback:r.Z.globalUiCallbacks.updateValue(this,"radiusA")},{type:"slider",id:"radiusB",value:e.radiusB,min:0,max:100,callback:r.Z.globalUiCallbacks.updateValue(this,"radiusB")},{type:"slider",id:"girdSize",value:e.girdSize,min:1,max:100,callback:r.Z.globalUiCallbacks.updateValue(this,"girdSize")},{type:"color",id:"color",default:e.color,callback:r.Z.globalUiCallbacks.updateValue(this,"color")}]}},methods:{Init(){this.$refs.page.Init(),this.canvas=this.$refs.page.getCanvas(),this.ctx=canvas.getContext("2d"),this.$refs.page.setViewer(this.sectionParams.screenTransform,this.Render),this.Render()},Render(){this.$refs.page.Render();const e=this.ctx,i=this.sectionParams,t=parseInt(this.canvas.width/this.sectionParams.girdSize)-1,a=parseInt(this.canvas.height/this.sectionParams.girdSize)-1;e.clearRect(0,0,this.canvas.width,this.canvas.height),this.sectionParams.girdSize+=this.$refs.page.girdSize,r.Z.drawGrid(this),this.sectionParams.girdSize<=0&&(this.sectionParams.girdSize=1),this.sectionParams.debugContent=[{title:"grid",content:"The number of cells in the x direction: "+t+"\nThe number of cells in the y direction: "+a}],e.fillStyle=i.color;const s=this.sectionParams.radiusA,n=this.sectionParams.radiusB,c=this.sectionParams.circleCenter;if(0==s||0==n)return;let l,d,o;d=0,o=n,l=4*n*n-4*s*s*n+s*s;while(s*s*(2*o-1)>=n*n*(d+1)*2)r.Z.drawPointInGrid(this,d+c.x,o+c.y),r.Z.drawPointInGrid(this,-d+c.x,o+c.y),r.Z.drawPointInGrid(this,d+c.x,-o+c.y),r.Z.drawPointInGrid(this,-d+c.x,-o+c.y),l<0?l+=4*n*n*(2*d+3):(l=l+4*n*n*(2*d+3)-8*s*s*(o-1),o--),d++;d=s,o=0,l=4*s*s-4*s*n*n+n*n;while(n*n*(2*d-1)>s*s*(o-1)*2)r.Z.drawPointInGrid(this,d+c.x,o+c.y),r.Z.drawPointInGrid(this,-d+c.x,o+c.y),r.Z.drawPointInGrid(this,d+c.x,-o+c.y),r.Z.drawPointInGrid(this,-d+c.x,-o+c.y),l<0?l+=4*s*s*(2*o+3):(l=l+4*s*s*(2*o+3)-8*n*n*(d-1),d--),o++},SetUI(){this.$refs.page.SetUI()}},mounted(){this.Init(),this.SetUI()}},l=t(89);const d=(0,l.Z)(c,[["render",s]]);var o=d}}]);
//# sourceMappingURL=544.acd8f244.js.map