{"version":3,"file":"js/989.4199ab05.js","mappings":"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","sources":["webpack://rock-sugar/./src/pages/Webgl/WebglDemo/Perspective/index.vue","webpack://rock-sugar/./src/pages/Webgl/WebglDemo/Perspective/resource/vertex-shader.js","webpack://rock-sugar/./src/pages/Webgl/WebglDemo/Perspective/resource/fragment-shader.js","webpack://rock-sugar/./src/pages/Webgl/WebglDemo/Perspective/resource/data.js","webpack://rock-sugar/./src/pages/Webgl/WebglDemo/Perspective/index.vue?72cd"],"sourcesContent":["<template lang=\"html\">\r\n    <nano_webgl_demo_panel\r\n        :prop_des_data=\"desData\"\r\n        :prop_ui_setter=\"uiSetter\"\r\n        :prop_vertex_shader=\"vertexShaderSource\"\r\n        :prop_fragment_shader=\"fragmentShaderSource\"\r\n        :prop_section_params=\"sectionParams\"\r\n        ref=\"page\"\r\n        @Init=\"Init\"\r\n        @Render=\"Render\"\r\n        @prop_ui_setter=\"uiSetter\"\r\n    />\r\n</template>\r\n<script>\r\nimport vertexShaderSource from './resource/vertex-shader.js'\r\nimport fragmentShaderSource from './resource/fragment-shader.js'\r\nimport data from './resource/data.js'\r\nimport uiSetting from \"../ui-setting\"\r\nconst desData = {\r\n    category:\"Webgl\",\r\n    name:\"Perspective\",\r\n    buttonContent:\"查看源码\",\r\n    title:\"透视投影\",\r\n    content:\"Failure is like perspective, throughout a person's life.\"\r\n}\r\nconst positions = data.position;\r\nconst colors = data.color;\r\n \r\nexport default {\r\n    name:'ImageProcess',\r\n    data() {\r\n        return {\r\n            gl: null,\r\n            canvas:null,\r\n            program: null,\r\n            vertexShaderSource,\r\n            fragmentShaderSource,\r\n            desData,\r\n            sectionParams:{\r\n                transform:{\r\n                    translation:[-150, 0, -360],\r\n                    rotation:[HNWUEngine.degToRad(190), HNWUEngine.degToRad(40), HNWUEngine.degToRad(320)],\r\n                    scale:[1,1,1]\r\n                },\r\n                fieldOfViewRadians:60,\r\n                zNear:1,\r\n                zFar:2000,\r\n            },\r\n            uiSetter:[]\r\n        }\r\n    },\r\n    methods: {\r\n        Init(){\r\n            this.gl = this.$refs.page.getGL();\r\n            this.canvas = this.$refs.page.getCanvas();\r\n            this.program = this.$refs.page.getProgram();\r\n            this.$refs.page.setTransform(this.sectionParams.transform);\r\n            this.$refs.page.addBuffer(\"position\",{data:positions});\r\n            this.$refs.page.addBuffer(\"color\",{data:colors});\r\n        },\r\n        Render(){\r\n            const gl = this.gl;\r\n            // Turn on culling.\r\n            gl.enable(gl.CULL_FACE);\r\n            // Turn on z-buffer.\r\n            gl.enable(gl.DEPTH_TEST);\r\n            const aspect = gl.canvas.clientWidth / gl.canvas.clientHeight;\r\n            let matrix =\r\n                HNWUEngine.perspective(\r\n                    HNWUEngine.degToRad(this.sectionParams.fieldOfViewRadians), \r\n                    aspect, \r\n                    this.sectionParams.zNear, \r\n                    this.sectionParams.zFar\r\n                );\r\n            matrix = HNWUEngine.getTransformMatrix(matrix,this.sectionParams.transform);\r\n            this.$refs.page.addUniform(\"u_matrix\",matrix);\r\n            this.$refs.page.glDraw({mode:gl.TRIANGLES,first:0,count:36})\r\n        },\r\n    },\r\n    mounted() {\r\n        this.uiSetter = [\r\n                {\r\n                    type: \"slider\", id: \"fieldOfViewRadians\", value: this.sectionParams.fieldOfViewRadians, min: 1, max: 180,\r\n                    callback: uiSetting.globalUiCallbacks.updateValue(this.sectionParams,this.$refs.page.Render, \"fieldOfViewRadians\")\r\n                },\r\n                {\r\n                    type: \"slider\", id: \"zNear\", value: this.sectionParams.zNear, min: 1, max: 3000,\r\n                    callback: uiSetting.globalUiCallbacks.updateValue(this.sectionParams,this.$refs.page.Render, \"zNear\")\r\n                },\r\n                {\r\n                    type: \"slider\", id: \"zFar\", value: this.sectionParams.zFar, min: 1, max: 3000,\r\n                    callback: uiSetting.globalUiCallbacks.updateValue(this.sectionParams,this.$refs.page.Render, \"zFar\")\r\n                },\r\n            ]\r\n    },\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@import \"../index.less\";\r\n</style>","export default\r\n`\r\nattribute vec4 a_position;\r\nattribute vec4 a_color;\r\nuniform mat4 u_matrix;\r\nvarying vec4 v_color;\r\nvoid main() {\r\n    gl_Position = u_matrix * a_position;\r\n    v_color = a_color;\r\n}\r\n`","export default\r\n`\r\nprecision mediump float;\r\nvarying vec4 v_color;\r\nvoid main() {\r\n    gl_FragColor = v_color;\r\n}\r\n`","export default\r\n{\r\n    position: new Float32Array([\r\n        // 正面。\r\n        200,   50,  0,\r\n        0, 50,  0,\r\n        0,   150,  0,\r\n        0, 150,  0,\r\n        200, 150,  0,\r\n        200,   50,  0,\r\n\r\n        // 顶面。\r\n        200,   50,  100,\r\n        0,  50,  100,\r\n        0,   50,  0,\r\n        0,  50,  0,\r\n        200,  50,  0,\r\n        200,   50,  100,\r\n\r\n        // 右侧面。\r\n        200,  50,  0,\r\n        200,  150,  0,\r\n        200,  150,  100,\r\n        200,  150,  100,\r\n        200,  50,  100,\r\n        200,  50,  0,\r\n\r\n        // 左侧面。\r\n        0,   50,  0,\r\n        0,   50,  100,\r\n        0,   150,  100,\r\n        0,   150,  100,\r\n        0,   150,  0,\r\n        0, 50,  0,\r\n\r\n        // 底面。\r\n        0,   150,  0,\r\n        0,   150,  100,\r\n        200,   150,  100,\r\n        200,   150,  100,\r\n        200,  150,  0,\r\n        0,   150,  0,\r\n\r\n        // 后面。\r\n        200,  50,  100,\r\n        200,  150,  100,\r\n        0,  150,  100,\r\n        0,  150,  100,\r\n        0,  50,  100,\r\n        200,  50,  100,  \r\n\r\n\r\n    ]),\r\n\r\n    color: new Uint8Array([\r\n        // 正面。\r\n        0,  59, 252,\r\n        0,  80, 252,\r\n        0,  218, 252,\r\n        0,  218, 252,\r\n        0,  80, 252,\r\n        0,  59, 252,\r\n        // 顶面。\r\n        252,  0, 0,\r\n        150,  0, 0,\r\n        0,  0, 0,\r\n        0,  0, 0,\r\n        150,  0, 0,\r\n        252,  0, 0,\r\n\r\n        // 右侧面。\r\n        252,  227, 103,\r\n        150,  227, 103,\r\n        0,  227, 103,\r\n        0,  227, 103,\r\n        150,  227, 103,\r\n        252,  227, 103,\r\n\r\n        // 左侧面。\r\n        252,  227, 103,\r\n        150,  227, 103,\r\n        0,  227, 103,\r\n        0,  227, 103,\r\n        150,  227, 103,\r\n        252,  227, 103,\r\n\r\n        // 底面。\r\n        252,  0, 0,\r\n        150,  0, 0,\r\n        0,  0, 0,\r\n        0,  0, 0,\r\n        150,  0, 0,\r\n        252,  0, 0,\r\n\r\n        // 后面。\r\n        0,  59, 252,\r\n        0,  80, 252,\r\n        0,  218, 252,\r\n        0,  218, 252,\r\n        0,  80, 252,\r\n        0,  59, 252,\r\n\r\n    ]),\r\n    \r\n}","import { render } from \"./index.vue?vue&type=template&id=1fd878de&scoped=true&lang=html\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=1fd878de&lang=less&scoped=true\"\n\nimport exportComponent from \"F:\\\\Note-Haruluya\\\\Project\\\\Rock-sugar\\\\rock-sugar\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1fd878de\"]])\n\nexport default __exports__"],"names":["_createBlock","_component_nano_webgl_demo_panel","prop_des_data","$data","prop_ui_setter","prop_vertex_shader","prop_fragment_shader","prop_section_params","ref","onInit","$options","onRender","onProp_ui_setter","position","Float32Array","color","Uint8Array","desData","category","name","buttonContent","title","content","positions","data","colors","gl","canvas","program","vertexShaderSource","fragmentShaderSource","sectionParams","transform","translation","rotation","HNWUEngine","degToRad","scale","fieldOfViewRadians","zNear","zFar","uiSetter","methods","Init","this","$refs","page","getGL","getCanvas","getProgram","setTransform","addBuffer","Render","enable","CULL_FACE","DEPTH_TEST","aspect","clientWidth","clientHeight","matrix","perspective","getTransformMatrix","addUniform","glDraw","mode","TRIANGLES","first","count","mounted","type","id","value","min","max","callback","uiSetting","__exports__","render"],"sourceRoot":""}