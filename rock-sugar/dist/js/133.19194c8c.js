"use strict";(self["webpackChunkrock_sugar"]=self["webpackChunkrock_sugar"]||[]).push([[133],{2133:function(t,a,e){e.r(a),e.d(a,{default:function(){return d}});var r=e(3396);function n(t,a,e,n,s,i){const o=(0,r.up)("nano_webgl_demo_panel");return(0,r.wg)(),(0,r.j4)(o,{prop_des_data:s.desData,prop_ui_setter:i.uiSetter,prop_shader:s.shaderSource,prop_section_params:s.sectionParams,ref:"page"},null,8,["prop_des_data","prop_ui_setter","prop_shader","prop_section_params"])}var s="\n    attribute vec2 a_position;\n    uniform mat3 u_matrix;\n    varying vec4 v_color;    \n    void main() {\n        gl_Position = vec4((u_matrix * vec3(a_position, 1)).xy, 0, 1);\n        v_color = gl_Position * 0.5 + 0.5;\n    }\n",i="\n    precision mediump float;\n    varying vec4 v_color;\n    void main() {\n        gl_FragColor = v_color;\n    }\n\n",o=(e(8675),e(3408),e(4590),{position:new Float32Array([0,-100,150,125,-175,100])}),l=e(720);const u={category:"Webgl",name:"Triangle",buttonContent:"查看源码",title:"三角",content:"Say 'Hello World!' to CG world."},c=o.position;var _={name:"Triangle",data(){return{gl:null,program:null,shaderSource:{vertexShaderSource:s,fragmentShaderSource:i},bufferData:{position:{numComponents:2,data:c}},uniformsData:{u_matrix:null},bufferInfo:null,attribSetters:null,uniformSetters:null,sectionParams:{translation:[300,200,0],rotation:[haruluya_webgl_utils.degToRad(0),haruluya_webgl_utils.degToRad(0),haruluya_webgl_utils.degToRad(0)],scale:[1,1,1],angleInRadians:0,debugContent:null},desData:u}},computed:{uiSetter(){let t=this.sectionParams;return[{type:"slider",id:"beginX",value:t.translation[0],min:0,max:1e3,callback:l.Z.globalUiCallbacks.updatePoint(this,"translation",0)}]}},methods:{Init(){console.log(this.$refs.page),this.$refs.page.Init();const{gl:t,canvas:a}=haruluya_webgl_utils.initWebglContext("canvas");this.gl=t,this.canvas=a,this.program=haruluya_webgl_utils.createProgramFromScripts(t,["vertex-shader","fragment-shader"]),this.bufferInfo=haruluya_webgl_utils.createBufferInfoFromArrays(t,this.bufferData),this.attribSetters=haruluya_webgl_utils.createAttributeSetters(t,this.program),this.Render()},Render(){this.$refs.page.Render();const t=this.gl;haruluya_webgl_utils.resizeCanvasToDisplaySize(t.canvas),t.viewport(0,0,t.canvas.width,t.canvas.height),t.clear(t.COLOR_BUFFER_BIT),t.useProgram(this.program);const a=this.sectionParams,e=t.getUniformLocation(this.program,"u_matrix");let r=haruluya_webgl_utils.projection2d(t.canvas.clientWidth,t.canvas.clientHeight);r=haruluya_webgl_utils.translate2d(r,a.translation[0],a.translation[1]),r=haruluya_webgl_utils.rotate2d(r,a.angleInRadians),r=haruluya_webgl_utils.scale2d(r,a.scale[0],a.scale[1]),t.uniformMatrix3fv(e,!1,r),haruluya_webgl_utils.setBuffersAndAttributes(t,this.attribSetters,this.bufferInfo),t.drawArrays(t.TRIANGLES,0,3)},SetUI(){this.$refs.page.SetUI()}},mounted(){this.Init(),this.SetUI()}},g=e(89);const h=(0,g.Z)(_,[["render",n]]);var d=h}}]);
//# sourceMappingURL=133.19194c8c.js.map