"use strict";(self["webpackChunkrock_sugar"]=self["webpackChunkrock_sugar"]||[]).push([[157],{4157:function(a,t,e){e.r(t),e.d(t,{default:function(){return v}});var r=e(3396);const n={class:"pageContainer"},s={class:"webglContainer"},i={id:"uiContainer"},o={id:"ui"};function l(a,t,e,l,u,c){const _=(0,r.up)("nano_canvas"),d=(0,r.up)("ui"),h=(0,r.up)("nano_webgl_des_panel");return(0,r.wg)(),(0,r.iD)("div",n,[(0,r._)("div",s,[(0,r.Wm)(_,{prop_vertex_shader_source:u.vertexShaderSource,prop_fragment_shader_source:u.fragmentShaderSource},null,8,["prop_vertex_shader_source","prop_fragment_shader_source"]),(0,r._)("div",i,[(0,r._)("div",o,[(0,r.Wm)(d,{id:"x"}),(0,r.Wm)(d,{id:"y"}),(0,r.Wm)(d,{id:"angle"}),(0,r.Wm)(d,{id:"scaleX"}),(0,r.Wm)(d,{id:"scaleY"})])])]),(0,r.Wm)(h,{prop_category:u.desData.category,prop_name:u.desData.name,prop_button_content:u.desData.buttonContent,prop_title:u.desData.title,prop_content:u.desData.content,onHandleClick:c.handleClick},null,8,["prop_category","prop_name","prop_button_content","prop_title","prop_content","onHandleClick"])])}var u=e(2213),c="\n    attribute vec2 a_position;\n    uniform mat3 u_matrix;\n    varying vec4 v_color;    \n    void main() {\n        gl_Position = vec4((u_matrix * vec3(a_position, 1)).xy, 0, 1);\n        v_color = gl_Position * 0.5 + 0.5;\n    }\n",_="\n    precision mediump float;\n    varying vec4 v_color;\n    void main() {\n        gl_FragColor = v_color;\n    }\n\n",d=(e(8675),e(3408),e(4590),{position:new Float32Array([0,-100,150,125,-175,100])});const h={category:"Webgl",name:"Triangle",buttonContent:"查看源码",title:"三角",content:"Say 'Hello World!' to CG world."},g=d.position;var p={name:"Triangle",data(){return{gl:null,canvas:null,program:null,bufferData:{position:{numComponents:2,data:g}},uniformsData:{u_matrix:null},bufferInfo:null,attribSetters:null,transfrom:{translation:[300,200,0],rotation:[haruluya_webgl_utils.degToRad(0),haruluya_webgl_utils.degToRad(0),haruluya_webgl_utils.degToRad(0)],scale:[1,1,1]},angleInRadians:0,vertexShaderSource:c,fragmentShaderSource:_,desData:h}},methods:{Init(){const{gl:a,canvas:t}=haruluya_webgl_utils.initWebglContext("canvas");this.gl=a,this.canvas=t,this.program=haruluya_webgl_utils.createProgramFromScripts(a,["vertex-shader","fragment-shader"]),this.bufferInfo=haruluya_webgl_utils.createBufferInfoFromArrays(a,this.bufferData),this.attribSetters=haruluya_webgl_utils.createAttributeSetters(a,this.program),this.Render()},Render(){const a=this.gl;haruluya_webgl_utils.resizeCanvasToDisplaySize(a.canvas),a.viewport(0,0,a.canvas.width,a.canvas.height),a.clear(a.COLOR_BUFFER_BIT),a.useProgram(this.program);const t=a.getUniformLocation(this.program,"u_matrix");let e=haruluya_webgl_utils.projection2d(a.canvas.clientWidth,a.canvas.clientHeight);e=haruluya_webgl_utils.translate2d(e,this.transfrom.translation[0],this.transfrom.translation[1]),e=haruluya_webgl_utils.rotate2d(e,this.angleInRadians),e=haruluya_webgl_utils.scale2d(e,this.transfrom.scale[0],this.transfrom.scale[1]),a.uniformMatrix3fv(t,!1,e),haruluya_webgl_utils.setBuffersAndAttributes(a,this.attribSetters,this.bufferInfo),a.drawArrays(a.TRIANGLES,0,3)},SetUI(){const a=this.gl;haruluya_webgl_utils.setupSlider("x",{value:this.transfrom.translation[0],slide:n(0),max:a.canvas.width}),haruluya_webgl_utils.setupSlider("y",{value:this.transfrom.translation[1],slide:n(1),max:a.canvas.height}),haruluya_webgl_utils.setupSlider("angle",{slide:s,max:360}),haruluya_webgl_utils.setupSlider("scaleX",{value:this.transfrom.scale[0],slide:i(0),min:-5,max:5,step:.01,precision:2}),haruluya_webgl_utils.setupSlider("scaleY",{value:this.transfrom.scale[1],slide:i(1),min:-5,max:5,step:.01,precision:2});let t=this.transfrom,e=this.Render,r=this.angleInRadians;function n(a){return function(r,n){t.translation[a]=n.value,e()}}function s(a,t){var n=360-t.value;r=n*Math.PI/180,e()}function i(a){return function(r,n){t.scale[a]=n.value,e()}}},Destory(){console.log("WBBGL DESTORY!!!")},handleClick(){window.location.href="https://github.com/Haruluya/Rock-sugar/blob/master/rock-sugar/src/pages/WebglDemo/Triangle/index.vue"}},mounted(){this.Init(),this.SetUI()},beforeDestory(){this.Destory()},components:{nano_canvas:u.db}},m=e(89);const f=(0,m.Z)(p,[["render",l],["__scopeId","data-v-7964dedc"]]);var v=f}}]);
//# sourceMappingURL=157.e8fb727b.js.map