"use strict";(self["webpackChunkrock_sugar"]=self["webpackChunkrock_sugar"]||[]).push([[389],{7389:function(e,t,i){i.r(t),i.d(t,{default:function(){return o}});var a=i(3396);function r(e,t,i,r,s,n){const l=(0,a.up)("nano_cg_experiment_page");return(0,a.wg)(),(0,a.j4)(l,{prop_des_data:s.desData,prop_ui_setter:n.uiSetter,prop_section_params:s.sectionParams,ref:"page"},null,8,["prop_des_data","prop_ui_setter","prop_section_params"])}var s=i(2812);const n={category:"Experiment",name:"DrawEllipse",buttonContent:"查看源码",title:"绘制椭圆",content:"Draw an ellipse."};var l={name:"DrawEllipse",data(){return{canvas:null,ctx:null,desData:n,sectionParams:{circleCenter:{x:30,y:18},radiusA:20,radiusB:10,color:"#0bc6e3",girdSize:10,debugContent:null}}},computed:{uiSetter(){let e=this.sectionParams;return[{type:"slider",id:"circleCenterX",value:e.circleCenter.x,min:0,max:500,callback:s.Z.globalUiCallbacks.updatePoint(this,"circleCenter","x")},{type:"slider",id:"circleCenterY",value:e.circleCenter.y,min:0,max:500,callback:s.Z.globalUiCallbacks.updatePoint(this,"circleCenter","y")},{type:"slider",id:"radiusA",value:e.radiusA,min:0,max:100,callback:s.Z.globalUiCallbacks.updateValue(this,"radiusA")},{type:"slider",id:"radiusB",value:e.radiusB,min:0,max:100,callback:s.Z.globalUiCallbacks.updateValue(this,"radiusB")},{type:"slider",id:"girdSize",value:e.girdSize,min:1,max:100,callback:s.Z.globalUiCallbacks.updateValue(this,"girdSize")},{type:"color",id:"color",default:e.color,callback:s.Z.globalUiCallbacks.updateValue(this,"color")}]}},methods:{Init(){this.$refs.page.Init(),this.canvas=this.$refs.page.getCanvas(),this.ctx=canvas.getContext("2d"),this.Render()},Render(){this.$refs.page.Render();const e=this.ctx,t=this.sectionParams,i=parseInt(this.canvas.width/this.sectionParams.girdSize)-1,a=parseInt(this.canvas.height/this.sectionParams.girdSize)-1;e.clearRect(0,0,this.canvas.width,this.canvas.height),s.Z.drawGrid(this),this.sectionParams.debugContent=[{title:"grid",content:"The number of cells in the x direction: "+i+"\nThe number of cells in the y direction: "+a}],e.fillStyle=t.color;const r=this.sectionParams.radiusA,n=this.sectionParams.radiusB,l=this.sectionParams.circleCenter;if(0==r||0==n)return;let c,d,o;d=0,o=n,c=4*n*n-4*r*r*n+r*r;while(r*r*(2*o-1)>=n*n*(d+1)*2)s.Z.drawPointInGrid(this,d+l.x,o+l.y),s.Z.drawPointInGrid(this,-d+l.x,o+l.y),s.Z.drawPointInGrid(this,d+l.x,-o+l.y),s.Z.drawPointInGrid(this,-d+l.x,-o+l.y),c<0?c+=4*n*n*(2*d+3):(c=c+4*n*n*(2*d+3)-8*r*r*(o-1),o--),d++;d=r,o=0,c=4*r*r-4*r*n*n+n*n;while(n*n*(2*d-1)>r*r*(o-1)*2)s.Z.drawPointInGrid(this,d+l.x,o+l.y),s.Z.drawPointInGrid(this,-d+l.x,o+l.y),s.Z.drawPointInGrid(this,d+l.x,-o+l.y),s.Z.drawPointInGrid(this,-d+l.x,-o+l.y),c<0?c+=4*r*r*(2*o+3):(c=c+4*r*r*(2*o+3)-8*n*n*(d-1),d--),o++},SetUI(){this.$refs.page.SetUI()}},mounted(){this.Init(),this.SetUI()}},c=i(89);const d=(0,c.Z)(l,[["render",r]]);var o=d}}]);
//# sourceMappingURL=389.42baa8f1.js.map