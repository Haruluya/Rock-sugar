{"version":3,"file":"js/986.4f8d39e0.js","mappings":"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","sources":["webpack://rock-sugar/./src/pages/Webgl/WebglDemo/SpotLight/index.vue","webpack://rock-sugar/./src/pages/Webgl/WebglDemo/SpotLight/resource/vetex-shader.js","webpack://rock-sugar/./src/pages/Webgl/WebglDemo/SpotLight/resource/fragment-shader.js","webpack://rock-sugar/./src/pages/Webgl/WebglDemo/SpotLight/resource/data.js","webpack://rock-sugar/./src/pages/Webgl/WebglDemo/SpotLight/index.vue?a9e3"],"sourcesContent":["<template lang=\"html\">\r\n    <div class=\"pageContainer\">\r\n        <div class=\"webglContainer\">\r\n            <nano_canvas\r\n             :prop_vertex_shader_source=\"vertexShaderSource\"\r\n             :prop_fragment_shader_source=\"fragmentShaderSource\"\r\n            />\r\n            <div id=\"uiContainer\">\r\n                <div id=\"ui\">\r\n                    <ui id=\"x\"></ui>\r\n                    <ui id=\"y\"></ui>\r\n                    <ui id=\"z\"></ui>\r\n                    <ui id=\"angleX\"></ui>\r\n                    <ui id=\"angleY\"></ui>\r\n                    <ui id=\"angleZ\"></ui>\r\n                    <ui id=\"scaleX\"></ui>\r\n                    <ui id=\"scaleY\"></ui>\r\n                    <ui id=\"scaleZ\"></ui>\r\n                    <ui id=\"shininess\"></ui>\r\n                    <ui id=\"lightColor\"></ui>\r\n                    <ui id=\"fRotation\"></ui>\r\n                    <ui id=\"lightRotationX\"></ui>\r\n                    <ui id=\"lightRotationY\"></ui>\r\n                    <ui id=\"innerLimit\"></ui>\r\n                    <ui id=\"outerLimit\"></ui>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        <nano_webgl_des_panel\r\n            :prop_category=\"desData.category\"\r\n            :prop_name=\"desData.name\"\r\n            :prop_button_content=\"desData.buttonContent\"\r\n            :prop_title=\"desData.title\"\r\n            :prop_content=\"desData.content\"\r\n            @handleClick=\"handleClick\"\r\n            />\r\n\r\n    </div>\r\n\r\n    \r\n</template>\r\n<script>\r\nimport vertexShaderSource from './resource/vetex-shader.js'\r\nimport fragmentShaderSource from './resource/fragment-shader.js'\r\nimport data from './resource/data.js'\r\n\r\nconst desData = {\r\n    category:\"Webgl\",\r\n    name:\"SpotLight\",\r\n    buttonContent:\"查看源码\",\r\n    title:\"聚光灯\",\r\n    content:\"potlight will never be on me.\"\r\n}\r\n\r\n\r\n\r\n\r\nconst positions = data.position;\r\nconst colors = data.color;\r\nconst normals = data.normal;\r\n\r\nexport default {\r\n    name:'SpotLight',\r\n    data() {\r\n        return {\r\n            gl: null,\r\n            canvas: null,\r\n            program: null,\r\n            vertexShaderSource,\r\n            fragmentShaderSource,\r\n            desData,\r\n            bufferData:{\r\n                position:{data:[]},\r\n                color:{data:colors},\r\n                normal:{data:normals}\r\n            },\r\n            uniformsData:{\r\n                u_shininess:null,\r\n                u_lightDirection:null,\r\n                u_innerLimit:null,\r\n                u_outerLimit:null,\r\n                u_lightWorldPosition:null,\r\n                u_viewWorldPosition:null,\r\n                u_world:null,\r\n                u_worldViewProjection:null,\r\n                u_worldInverseTranspose:null,\r\n\r\n            },\r\n            bufferInfo:null,\r\n            uniformSetters:null,\r\n            attribSetters:null,\r\n            transfrom:{\r\n                translation:[0, 0, 0],\r\n                rotation:[haruluya_webgl_utils.degToRad(190), haruluya_webgl_utils.degToRad(200), haruluya_webgl_utils.degToRad(360)],\r\n                scale : [1, 0.8, 1]\r\n            },\r\n            perspective:{\r\n                aspect:0,\r\n                fieldOfViewRadians:  haruluya_webgl_utils.degToRad(60),\r\n                zNear: 1,\r\n                zFar: 2000,\r\n            },\r\n            sectionParams:{\r\n                shininess:10,\r\n                lightRotationX:0,\r\n                lightRotationY:0,\r\n                lightDirection:[0,0,1],\r\n                lightColor:null,\r\n                lightPosition:[40, 60, 120],\r\n                innerLimit:haruluya_webgl_utils.degToRad(21),\r\n                outerLimit:haruluya_webgl_utils.degToRad(35),\r\n            },\r\n            camera:{\r\n                target:[0, 35, 0],\r\n                position:[100, 150, 200],\r\n                up:[0,1,0]\r\n            },\r\n        }\r\n    },\r\n    mounted() {\r\n        this.Init();\r\n        this.SetUI();\r\n\r\n    },\r\n    methods: {\r\n        Init(){\r\n            const { gl, canvas } = haruluya_webgl_utils.initWebglContext(\"canvas\");\r\n            this.gl = gl;\r\n            this.canvas = canvas;\r\n            this.program = haruluya_webgl_utils.createProgramFromScripts(gl, [\"vertex-shader\", \"fragment-shader\"]);\r\n            //Get bufferinfo and setters.\r\n            this.perspective.aspect = gl.canvas.clientWidth / gl.canvas.clientHeight;\r\n\r\n            this.setPosition();\r\n\r\n            var lmat = haruluya_webgl_utils.lookAt(this.sectionParams.lightPosition, this.camera.target, this.camera.up);\r\n            lmat = haruluya_webgl_utils.multiply3d(haruluya_webgl_utils.xRotation(this.sectionParams.lightRotationX), lmat);\r\n            lmat = haruluya_webgl_utils.multiply3d(haruluya_webgl_utils.yRotation(this.sectionParams.lightRotationY), lmat);\r\n            this.sectionParams.lightDirection = [-lmat[8], -lmat[9],-lmat[10]];\r\n\r\n            this.bufferInfo = haruluya_webgl_utils.createBufferInfoFromArrays(gl, this.bufferData);\r\n            this.uniformSetters = haruluya_webgl_utils.createUniformSetters(gl, this.program);\r\n            this.attribSetters  = haruluya_webgl_utils.createAttributeSetters(gl, this.program);\r\n            this.Render();\r\n        },\r\n        Render(){\r\n            const gl = this.gl;\r\n            const program = this.program;\r\n            haruluya_webgl_utils.resizeCanvasToDisplaySize(gl.canvas);\r\n            gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\r\n            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n\r\n            gl.enable(gl.CULL_FACE);\r\n            gl.enable(gl.DEPTH_TEST);\r\n\r\n            gl.useProgram(program);\r\n\r\n            haruluya_webgl_utils.setBuffersAndAttributes(gl, this.attribSetters, this.bufferInfo);\r\n            let cameraMatrix = haruluya_webgl_utils.lookAt(this.camera.position, this.camera.target, this.camera.up);\r\n            let viewMatrix = haruluya_webgl_utils.inverse(cameraMatrix);\r\n            let projectionMatrix = haruluya_webgl_utils.perspective(\r\n                this.perspective.fieldOfViewRadians, \r\n                this.perspective.aspect, \r\n                this.perspective.zNear, \r\n                this.perspective.zFar\r\n                );\r\n            let viewProjectionMatrix = haruluya_webgl_utils.multiply3d(projectionMatrix, viewMatrix);\r\n\r\n   \r\n            let worldMatrix = haruluya_webgl_utils.getTransformMatrix(\r\n                    haruluya_webgl_utils.yRotation(0),this.transfrom);\r\n\r\n            // Multiply the matrices.\r\n            let worldViewProjectionMatrix = haruluya_webgl_utils.multiply3d(viewProjectionMatrix, worldMatrix);\r\n            let worldInverseMatrix = haruluya_webgl_utils.inverse(worldMatrix);\r\n            let worldInverseTransposeMatrix = haruluya_webgl_utils.transpose(worldInverseMatrix);\r\n\r\n            this.uniformsData.u_worldViewProjection = worldViewProjectionMatrix;\r\n            this.uniformsData.u_worldInverseTranspose = worldInverseTransposeMatrix;\r\n\r\n            this.uniformsData.u_world = worldMatrix;\r\n            this.uniformsData.u_lightWorldPosition = this.sectionParams.lightPosition;\r\n            this.uniformsData.u_viewWorldPosition = this.camera.position;\r\n            this.uniformsData.u_shininess = this.sectionParams.shininess;\r\n            this.uniformsData.u_lightDirection = this.sectionParams.lightDirection;\r\n            this.uniformsData.u_innerLimit = Math.cos(this.sectionParams.innerLimit);\r\n            this.uniformsData.u_outerLimit = Math.cos(this.sectionParams.outerLimit);\r\n\r\n            var lmat = haruluya_webgl_utils.lookAt(this.sectionParams.lightPosition, this.camera.target, this.camera.up);\r\n            lmat = haruluya_webgl_utils.multiply3d(haruluya_webgl_utils.xRotation(this.sectionParams.lightRotationX), lmat);\r\n            lmat = haruluya_webgl_utils.multiply3d(haruluya_webgl_utils.yRotation(this.sectionParams.lightRotationY), lmat);\r\n            this.sectionParams.lightDirection = [-lmat[8], -lmat[9],-lmat[10]];\r\n\r\n            haruluya_webgl_utils.setUniforms(this.uniformSetters, this.uniformsData);\r\n\r\n            gl.drawArrays(gl.TRIANGLES, 0, 16*6);\r\n\r\n        },\r\n        SetUI(){\r\n            const gl = this.gl;\r\n            const Render = this.Render;\r\n            let sectionParams = this.sectionParams;\r\n            // callbacks.\r\n\r\n            const updatelightRotationX = function (event, ui) {\r\n                sectionParams.lightRotationX = ui.value;\r\n                Render();\r\n            }\r\n\r\n            const updatelightRotationY = function (event, ui) {\r\n                sectionParams.lightRotationY = ui.value;\r\n                Render();\r\n            }\r\n\r\n            const updateInnerLimit = function (event, ui) {\r\n                sectionParams.innerLimit = haruluya_webgl_utils.degToRad(ui.value);\r\n                Render();\r\n            }\r\n\r\n            const updateOuterLimit = function (event, ui) {\r\n                sectionParams.outerLimit = haruluya_webgl_utils.degToRad(ui.value);\r\n                Render();\r\n            }\r\n\r\n            let transform = this.transfrom;\r\n\r\n            // transform callback.\r\n            const updatePosition = function (index) {\r\n                return function(event, ui) {\r\n                    transform.translation[index] = ui.value;\r\n                    Render();\r\n                };\r\n            }\r\n\r\n            const updateRotation = function (index) {\r\n                return function(event, ui) {\r\n                    const angleInDegrees = ui.value;\r\n                    const angleInRadians = angleInDegrees * Math.PI / 180;\r\n                    transform.rotation[index] = angleInRadians;\r\n                    Render();\r\n                };\r\n            }\r\n\r\n            const updateScale = function (index) {\r\n                return function(event, ui) {\r\n                    transform.scale[index] = ui.value;\r\n                    Render();\r\n                };\r\n            }\r\n\r\n            const updateShininess = function (event, ui) {\r\n                sectionParams.shininess = ui.value;\r\n                Render();\r\n            }\r\n\r\n            const updateLightColor = function (event){\r\n                sectionParams.lightColor = haruluya_webgl_utils.colorToRGB(event.target.value);\r\n                Render();\r\n            }\r\n\r\n\r\n            // ui.\r\n            haruluya_webgl_utils.setupSlider(\"lightRotationX\", {value: sectionParams.lightRotationX, slide: updatelightRotationX, min: -2, max: 2, precision: 2, step: 0.001});\r\n            haruluya_webgl_utils.setupSlider(\"lightRotationY\", {value: sectionParams.lightRotationY, slide: updatelightRotationY, min: -2, max: 2, precision: 2, step: 0.001});\r\n            haruluya_webgl_utils.setupSlider(\"innerLimit\", {value: haruluya_webgl_utils.radToDeg(sectionParams.innerLimit), slide: updateInnerLimit, min: 0, max: 180});\r\n            haruluya_webgl_utils.setupSlider(\"outerLimit\", {value: haruluya_webgl_utils.radToDeg(sectionParams.outerLimit), slide: updateOuterLimit, min: 0, max: 180});\r\n            haruluya_webgl_utils.setupSlider(\"shininess\", {value: sectionParams.shininess, slide: updateShininess, min: 0, max: 10});\r\n            haruluya_webgl_utils.setupSlider(\"x\", {value: transform.translation[0], slide: updatePosition(0), max: gl.canvas.width });\r\n            haruluya_webgl_utils.setupSlider(\"y\", {value: transform.translation[1], slide: updatePosition(1), max: gl.canvas.height});\r\n            haruluya_webgl_utils.setupSlider(\"z\", {value: transform.translation[2], slide: updatePosition(2), max: gl.canvas.height});\r\n            haruluya_webgl_utils.setupSlider(\"angleX\", {value: haruluya_webgl_utils.radToDeg(transform.rotation[0]), slide: updateRotation(0), max: 360});\r\n            haruluya_webgl_utils.setupSlider(\"angleY\", {value: haruluya_webgl_utils.radToDeg(transform.rotation[1]), slide: updateRotation(1), max: 360});\r\n            haruluya_webgl_utils.setupSlider(\"angleZ\", {value: haruluya_webgl_utils.radToDeg(transform.rotation[2]), slide: updateRotation(2), max: 360});\r\n            haruluya_webgl_utils.setupSlider(\"scaleX\", {value: transform.scale[0], slide: updateScale(0), min: -5, max: 5, step: 0.01, precision: 2});\r\n            haruluya_webgl_utils.setupSlider(\"scaleY\", {value: transform.scale[1], slide: updateScale(1), min: -5, max: 5, step: 0.01, precision: 2});\r\n            haruluya_webgl_utils.setupSlider(\"scaleZ\", {value: transform.scale[2], slide: updateScale(2), min: -5, max: 5, step: 0.01, precision: 2});\r\n        },\r\n        Destory(){\r\n\r\n        },\r\n        handleClick() {\r\n            window.location.href = \"https://github.com/Haruluya/Rock-sugar/blob/master/rock-sugar/src/pages/WebglDemo/Orthographic/index.vue\";\r\n        },\r\n        setPosition(){\r\n            let matrix = haruluya_webgl_utils.xRotation(Math.PI);\r\n            matrix = haruluya_webgl_utils.translate3d(matrix, -50, -75, -15);\r\n\r\n            for (let ii = 0; ii < positions.length; ii += 3) {\r\n                let vector = haruluya_webgl_utils.transformPoint(matrix, [positions[ii + 0], positions[ii + 1], positions[ii + 2], 1]);\r\n                positions[ii + 0] = vector[0];\r\n                positions[ii + 1] = vector[1];\r\n                positions[ii + 2] = vector[2];\r\n            }\r\n            this.bufferData.position = positions;\r\n        },\r\n\r\n\r\n    },\r\n    beforeDestory() {\r\n        this.Destory();\r\n    },\r\n    \r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@import \"../index.less\";\r\n</style>\r\n","export default\r\n`\r\nattribute vec4 a_position;\r\nattribute vec3 a_normal;\r\nattribute vec4 a_color;\r\nuniform vec3 u_lightWorldPosition;\r\nuniform vec3 u_viewWorldPosition;\r\nuniform mat4 u_world;\r\nuniform mat4 u_worldViewProjection;\r\nuniform mat4 u_worldInverseTranspose;\r\nvarying vec3 v_normal;\r\nvarying vec3 v_surfaceToLight;\r\nvarying vec3 v_surfaceToView;\r\nvarying vec4 v_color;\r\nvoid main() {\r\n    gl_Position = u_worldViewProjection * a_position;\r\n    v_normal = mat3(u_worldInverseTranspose) * a_normal;\r\n    vec3 surfaceWorldPosition = (u_world * a_position).xyz;\r\n    v_surfaceToLight = u_lightWorldPosition - surfaceWorldPosition;\r\n    v_surfaceToView = u_viewWorldPosition - surfaceWorldPosition;\r\n    v_color = a_color;\r\n}\r\n`","export default\r\n`\r\nprecision mediump float;\r\nvarying vec3 v_normal;\r\nvarying vec3 v_surfaceToLight;\r\nvarying vec3 v_surfaceToView;\r\n\r\nvarying vec4 v_color;\r\nuniform float u_shininess;\r\nuniform vec3 u_lightDirection;\r\nuniform float u_innerLimit;          // in dot space\r\nuniform float u_outerLimit;          // in dot space\r\nvoid main() {\r\n    vec3 normal = normalize(v_normal);\r\n    vec3 surfaceToLightDirection = normalize(v_surfaceToLight);\r\n    vec3 surfaceToViewDirection = normalize(v_surfaceToView);\r\n    vec3 halfVector = normalize(surfaceToLightDirection + surfaceToViewDirection);\r\n    float dotFromDirection = dot(surfaceToLightDirection,\r\n                                -u_lightDirection);\r\n    float inLight = smoothstep(u_outerLimit, u_innerLimit, dotFromDirection);\r\n    float light = inLight * dot(normal, surfaceToLightDirection);\r\n    float specular = inLight * pow(dot(normal, halfVector), u_shininess);\r\n\r\n    gl_FragColor = v_color;\r\n    gl_FragColor.rgb *= light;\r\n    gl_FragColor.rgb += specular;\r\n}\r\n\r\n`","export default{\r\n    position:new Float32Array([\r\n        // 正面。\r\n        200,   50,  0,\r\n        0, 50,  0,\r\n        0,   150,  0,\r\n        0, 150,  0,\r\n        200, 150,  0,\r\n        200,   50,  0,\r\n\r\n        // 顶面。\r\n        200,   50,  100,\r\n        0,  50,  100,\r\n        0,   50,  0,\r\n        0,  50,  0,\r\n        200,  50,  0,\r\n        200,   50,  100,\r\n\r\n        // 右侧面。\r\n        200,  50,  0,\r\n        200,  150,  0,\r\n        200,  150,  100,\r\n        200,  150,  100,\r\n        200,  50,  100,\r\n        200,  50,  0,\r\n\r\n        // 左侧面。\r\n        0,   50,  0,\r\n        0,   50,  100,\r\n        0,   150,  100,\r\n        0,   150,  100,\r\n        0,   150,  0,\r\n        0, 50,  0,\r\n\r\n        // 底面。\r\n        0,   150,  0,\r\n        0,   150,  100,\r\n        200,   150,  100,\r\n        200,   150,  100,\r\n        200,  150,  0,\r\n        0,   150,  0,\r\n\r\n        // 后面。\r\n        200,  50,  100,\r\n        200,  150,  100,\r\n        0,  150,  100,\r\n        0,  150,  100,\r\n        0,  50,  100,\r\n        200,  50,  100,  \r\n\r\n\r\n    ]),\r\n    color: new Uint8Array([\r\n        // 正面。\r\n        0,  59, 252,\r\n        0,  80, 252,\r\n        0,  218, 252,\r\n        0,  218, 252,\r\n        0,  80, 252,\r\n        0,  59, 252,\r\n        // 顶面。\r\n        252,  0, 0,\r\n        150,  0, 0,\r\n        0,  0, 0,\r\n        0,  0, 0,\r\n        150,  0, 0,\r\n        252,  0, 0,\r\n\r\n        // 右侧面。\r\n        252,  227, 103,\r\n        150,  227, 103,\r\n        0,  227, 103,\r\n        0,  227, 103,\r\n        150,  227, 103,\r\n        252,  227, 103,\r\n\r\n        // 左侧面。\r\n        252,  227, 103,\r\n        150,  227, 103,\r\n        0,  227, 103,\r\n        0,  227, 103,\r\n        150,  227, 103,\r\n        252,  227, 103,\r\n\r\n        // 底面。\r\n        252,  0, 0,\r\n        150,  0, 0,\r\n        0,  0, 0,\r\n        0,  0, 0,\r\n        150,  0, 0,\r\n        252,  0, 0,\r\n\r\n        // 后面。\r\n        0,  59, 252,\r\n        0,  80, 252,\r\n        0,  218, 252,\r\n        0,  218, 252,\r\n        0,  80, 252,\r\n        0,  59, 252,\r\n\r\n      ]),\r\n      normal: [\r\n        // 正面。\r\n        0,0,1,\r\n        0,0,1,\r\n        0,0,1,\r\n        0,0,1,\r\n        0,0,1,\r\n        0,0,1,\r\n        // 顶面。\r\n        0,1,0,\r\n        0,1,0,\r\n        0,1,0,\r\n        0,1,0,\r\n        0,1,0,\r\n        0,  1,0,\r\n        // 右侧面。\r\n        1,0,0,\r\n        1,0,0,\r\n        1,0,0,\r\n        1,0,0,\r\n        1,0,0,\r\n        1,0,0,\r\n        // 左侧面。\r\n        -1,0,0,\r\n        -1,0,0,\r\n        -1,0,0,\r\n        -1,0,0,\r\n        -1,0,0,\r\n        -1,0,0,\r\n        // 底面。\r\n        0,-1,0,\r\n        0,-1,0,\r\n        0,-1,0,\r\n        0,-1,0,\r\n        0,-1,0,\r\n        0,-1,0,\r\n        // 后面。\r\n        0,0,-1,\r\n        0,0,-1,\r\n        0,0,-1,\r\n        0,0,-1,\r\n        0,0,-1,\r\n        0,0,-1,\r\n\r\n    ]\r\n    \r\n    \r\n}","import { render } from \"./index.vue?vue&type=template&id=62cc2148&scoped=true&lang=html\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=62cc2148&lang=less&scoped=true\"\n\nimport exportComponent from \"F:\\\\Note-Haruluya\\\\Project\\\\Rock-sugar\\\\rock-sugar\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-62cc2148\"]])\n\nexport default __exports__"],"names":["class","id","_createElementBlock","_createElementVNode","_createVNode","_component_nano_canvas","prop_vertex_shader_source","$data","prop_fragment_shader_source","_component_ui","_component_nano_webgl_des_panel","prop_category","category","prop_name","name","prop_button_content","buttonContent","prop_title","title","prop_content","content","onHandleClick","$options","position","Float32Array","color","Uint8Array","normal","desData","positions","data","colors","normals","gl","canvas","program","vertexShaderSource","fragmentShaderSource","bufferData","uniformsData","u_shininess","u_lightDirection","u_innerLimit","u_outerLimit","u_lightWorldPosition","u_viewWorldPosition","u_world","u_worldViewProjection","u_worldInverseTranspose","bufferInfo","uniformSetters","attribSetters","transfrom","translation","rotation","haruluya_webgl_utils","degToRad","scale","perspective","aspect","fieldOfViewRadians","zNear","zFar","sectionParams","shininess","lightRotationX","lightRotationY","lightDirection","lightColor","lightPosition","innerLimit","outerLimit","camera","target","up","mounted","this","Init","SetUI","methods","initWebglContext","createProgramFromScripts","clientWidth","clientHeight","setPosition","lmat","lookAt","multiply3d","xRotation","yRotation","createBufferInfoFromArrays","createUniformSetters","createAttributeSetters","Render","resizeCanvasToDisplaySize","viewport","width","height","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","enable","CULL_FACE","DEPTH_TEST","useProgram","setBuffersAndAttributes","cameraMatrix","viewMatrix","inverse","projectionMatrix","viewProjectionMatrix","worldMatrix","getTransformMatrix","worldViewProjectionMatrix","worldInverseMatrix","worldInverseTransposeMatrix","transpose","Math","cos","setUniforms","drawArrays","TRIANGLES","updatelightRotationX","event","ui","value","updatelightRotationY","updateInnerLimit","updateOuterLimit","transform","updatePosition","index","updateRotation","angleInDegrees","angleInRadians","PI","updateScale","updateShininess","setupSlider","slide","min","max","precision","step","radToDeg","Destory","handleClick","window","location","href","matrix","translate3d","ii","length","vector","transformPoint","beforeDestory","__exports__","render"],"sourceRoot":""}