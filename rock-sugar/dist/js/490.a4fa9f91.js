"use strict";(self["webpackChunkrock_sugar"]=self["webpackChunkrock_sugar"]||[]).push([[490],{4490:function(a,t,e){e.r(t),e.d(t,{default:function(){return p}});var r=e(3396);const i={class:"pageContainer"},n={class:"webglContainer"},s=(0,r.uE)('<div id="uiContainer" data-v-5ce582cc><div id="ui" data-v-5ce582cc><div id="x" data-v-5ce582cc></div><div id="y" data-v-5ce582cc></div><div id="z" data-v-5ce582cc></div><div id="angleX" data-v-5ce582cc></div><div id="angleY" data-v-5ce582cc></div><div id="angleZ" data-v-5ce582cc></div><div id="scaleX" data-v-5ce582cc></div><div id="scaleY" data-v-5ce582cc></div><div id="scaleZ" data-v-5ce582cc></div></div></div>',1);function l(a,t,e,l,o,u){const c=(0,r.up)("nano_canvas"),d=(0,r.up)("nano_webgl_des_panel");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r._)("div",n,[(0,r.Wm)(c,{prop_vertex_shader_source:o.vertexShaderSource,prop_fragment_shader_source:o.fragmentShaderSource},null,8,["prop_vertex_shader_source","prop_fragment_shader_source"]),s]),(0,r.Wm)(d,{prop_category:o.desData.category,prop_name:o.desData.name,prop_button_content:o.desData.buttonContent,prop_title:o.desData.title,prop_content:o.desData.content,onHandleClick:u.handleClick},null,8,["prop_category","prop_name","prop_button_content","prop_title","prop_content","onHandleClick"])])}var o="\nattribute vec4 a_position;\nattribute vec4 a_color;\nuniform mat4 u_matrix;\nvarying vec4 v_color;\nvoid main() {\n    gl_Position = u_matrix * a_position;\n    v_color = a_color;\n}\n",u="\nprecision mediump float;\nvarying vec4 v_color;\nvoid main() {\n    gl_FragColor = v_color;\n}\n",c=(e(8675),e(3408),e(4590),{position:new Float32Array([200,50,0,0,50,0,0,150,0,0,150,0,200,150,0,200,50,0,200,50,100,0,50,100,0,50,0,0,50,0,200,50,0,200,50,100,200,50,0,200,150,0,200,150,100,200,150,100,200,50,100,200,50,0,0,50,0,0,50,100,0,150,100,0,150,100,0,150,0,0,50,0,0,150,0,0,150,100,200,150,100,200,150,100,200,150,0,0,150,0,200,50,100,200,150,100,0,150,100,0,150,100,0,50,100,200,50,100]),color:new Uint8Array([0,59,252,0,80,252,0,218,252,0,218,252,0,80,252,0,59,252,252,0,0,150,0,0,0,0,0,0,0,0,150,0,0,252,0,0,252,227,103,150,227,103,0,227,103,0,227,103,150,227,103,252,227,103,252,227,103,150,227,103,0,227,103,0,227,103,150,227,103,252,227,103,252,0,0,150,0,0,0,0,0,0,0,0,150,0,0,252,0,0,0,59,252,0,80,252,0,218,252,0,218,252,0,80,252,0,59,252])});const d={category:"Webgl",name:"Orthographic",buttonContent:"查看源码",title:"正交投影",content:"Orthogonal is more like irrelevant."},_=c.position,h=c.color;var g={name:"Orthographic",data(){return{gl:null,program:null,vertexShaderSource:o,fragmentShaderSource:u,desData:d,bufferData:{position:{data:_},color:{data:h}},uniformsData:{u_matrix:null},bufferInfo:null,uniformSetters:null,attribSetters:null,transfrom:{translation:[120,180,0],rotation:[haruluya_webgl_utils.degToRad(40),haruluya_webgl_utils.degToRad(25),haruluya_webgl_utils.degToRad(325)],scale:[.8,.8,1]}}},mounted(){this.Init(),this.SetUI()},methods:{Init(){const{gl:a,canvas:t}=haruluya_webgl_utils.initWebglContext("canvas");this.gl=a,this.canvas=t,this.program=haruluya_webgl_utils.createProgramFromScripts(a,["vertex-shader","fragment-shader"]),this.bufferInfo=haruluya_webgl_utils.createBufferInfoFromArrays(a,this.bufferData),this.uniformSetters=haruluya_webgl_utils.createUniformSetters(a,this.program),this.attribSetters=haruluya_webgl_utils.createAttributeSetters(a,this.program),this.Render()},Render(){const a=this.gl;haruluya_webgl_utils.resizeCanvasToDisplaySize(a.canvas),a.viewport(0,0,a.canvas.width,a.canvas.height),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),a.enable(a.CULL_FACE),a.enable(a.DEPTH_TEST),a.useProgram(this.program),this.uniformsData.u_matrix=haruluya_webgl_utils.projection3d(a.canvas.clientWidth,a.canvas.clientHeight,400),this.uniformsData.u_matrix=haruluya_webgl_utils.getTransformMatrix(this.uniformsData.u_matrix,this.transfrom),haruluya_webgl_utils.setBuffersAndAttributes(a,this.attribSetters,this.bufferInfo),haruluya_webgl_utils.setUniforms(this.uniformSetters,this.uniformsData),a.drawArrays(a.TRIANGLES,0,36)},SetUI(){const a=this.gl,t=function(a){return function(t,e){i.translation[a]=e.value,n()}},e=function(a){return function(t,e){const r=e.value,s=r*Math.PI/180;i.rotation[a]=s,n()}},r=function(a){return function(t,e){i.scale[a]=e.value,n()}};haruluya_webgl_utils.setupSlider("x",{value:this.transfrom.translation[0],slide:t(0),max:a.canvas.width}),haruluya_webgl_utils.setupSlider("y",{value:this.transfrom.translation[1],slide:t(1),max:a.canvas.height}),haruluya_webgl_utils.setupSlider("z",{value:this.transfrom.translation[2],slide:t(2),max:a.canvas.height}),haruluya_webgl_utils.setupSlider("angleX",{value:haruluya_webgl_utils.radToDeg(this.transfrom.rotation[0]),slide:e(0),max:360}),haruluya_webgl_utils.setupSlider("angleY",{value:haruluya_webgl_utils.radToDeg(this.transfrom.rotation[1]),slide:e(1),max:360}),haruluya_webgl_utils.setupSlider("angleZ",{value:haruluya_webgl_utils.radToDeg(this.transfrom.rotation[2]),slide:e(2),max:360}),haruluya_webgl_utils.setupSlider("scaleX",{value:this.transfrom.scale[0],slide:r(0),min:-5,max:5,step:.01,precision:2}),haruluya_webgl_utils.setupSlider("scaleY",{value:this.transfrom.scale[1],slide:r(1),min:-5,max:5,step:.01,precision:2}),haruluya_webgl_utils.setupSlider("scaleZ",{value:this.transfrom.scale[2],slide:r(2),min:-5,max:5,step:.01,precision:2});const i=this.transfrom,n=this.Render},Destory(){},handleClick(){window.location.href="https://github.com/Haruluya/Rock-sugar/blob/master/rock-sugar/src/pages/WebglDemo/Orthographic/index.vue"}},beforeDestory(){this.Destory()}},v=e(89);const m=(0,v.Z)(g,[["render",l],["__scopeId","data-v-5ce582cc"]]);var p=m}}]);
//# sourceMappingURL=490.a4fa9f91.js.map