{"version":3,"file":"js/490.a4fa9f91.js","mappings":"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","sources":["webpack://rock-sugar/./src/pages/Webgl/WebglDemo/Orthographic/index.vue","webpack://rock-sugar/./src/pages/Webgl/WebglDemo/Orthographic/resource/vertex-shader.js","webpack://rock-sugar/./src/pages/Webgl/WebglDemo/Orthographic/resource/fragment-shader.js","webpack://rock-sugar/./src/pages/Webgl/WebglDemo/Orthographic/resource/data.js","webpack://rock-sugar/./src/pages/Webgl/WebglDemo/Orthographic/index.vue?930f"],"sourcesContent":["<template lang=\"html\">\r\n    <div class=\"pageContainer\">\r\n        <div class=\"webglContainer\">\r\n            <nano_canvas\r\n             :prop_vertex_shader_source=\"vertexShaderSource\"\r\n             :prop_fragment_shader_source=\"fragmentShaderSource\"\r\n            />\r\n            <div id=\"uiContainer\">\r\n                <div id=\"ui\">\r\n                    <div id=\"x\"></div>\r\n                    <div id=\"y\"></div>\r\n                    <div id=\"z\"></div>\r\n                    <div id=\"angleX\"></div>\r\n                    <div id=\"angleY\"></div>\r\n                    <div id=\"angleZ\"></div>\r\n                    <div id=\"scaleX\"></div>\r\n                    <div id=\"scaleY\"></div>\r\n                    <div id=\"scaleZ\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        <nano_webgl_des_panel\r\n            :prop_category=\"desData.category\"\r\n            :prop_name=\"desData.name\"\r\n            :prop_button_content=\"desData.buttonContent\"\r\n            :prop_title=\"desData.title\"\r\n            :prop_content=\"desData.content\"\r\n            @handleClick=\"handleClick\"\r\n            />\r\n\r\n    </div>\r\n\r\n    \r\n</template>\r\n<script>\r\nimport vertexShaderSource from './resource/vertex-shader.js'\r\nimport fragmentShaderSource from './resource/fragment-shader.js'\r\nimport data from './resource/data'\r\nconst desData = {\r\n    category:\"Webgl\",\r\n    name:\"Orthographic\",\r\n    buttonContent:\"查看源码\",\r\n    title:\"正交投影\",\r\n    content:\"Orthogonal is more like irrelevant.\"\r\n}\r\n\r\n\r\nconst positions = data.position;\r\nconst colors = data.color;\r\n\r\n/*\r\n    @author:haruluya\r\n    @des: Orthographic 3d.\r\n*/\r\n\r\nexport default {\r\n    name:'Orthographic',\r\n    data() {\r\n        return {\r\n            gl: null,\r\n            program: null,\r\n            vertexShaderSource,\r\n            fragmentShaderSource,\r\n            desData,\r\n            bufferData:{\r\n                position:{data:positions},\r\n                color:{data:colors},\r\n            },\r\n            uniformsData:{\r\n                u_matrix: null,\r\n            },\r\n            bufferInfo:null,\r\n            uniformSetters:null,\r\n            attribSetters:null,\r\n            transfrom:{\r\n                translation:[120, 180, 0],\r\n                rotation:[haruluya_webgl_utils.degToRad(40), haruluya_webgl_utils.degToRad(25), haruluya_webgl_utils.degToRad(325)],\r\n                scale : [0.8, 0.8, 1]\r\n            },\r\n        }\r\n    },\r\n    mounted() {\r\n        this.Init();\r\n        this.SetUI();\r\n\r\n    },\r\n    methods: {\r\n        Init(){\r\n            const { gl, canvas } = haruluya_webgl_utils.initWebglContext(\"canvas\");\r\n            this.gl = gl;\r\n            this.canvas = canvas;\r\n            this.program = haruluya_webgl_utils.createProgramFromScripts(gl, [\"vertex-shader\", \"fragment-shader\"]);\r\n            //Get bufferinfo and setters.\r\n            this.bufferInfo = haruluya_webgl_utils.createBufferInfoFromArrays(gl, this.bufferData);\r\n            this.uniformSetters = haruluya_webgl_utils.createUniformSetters(gl, this.program);\r\n            this.attribSetters  = haruluya_webgl_utils.createAttributeSetters(gl, this.program);\r\n            this.Render();\r\n\r\n        },\r\n        Render(){\r\n            const gl = this.gl;\r\n            haruluya_webgl_utils.resizeCanvasToDisplaySize(gl.canvas);\r\n            gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\r\n            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n\r\n            // Turn on culling.\r\n            gl.enable(gl.CULL_FACE);\r\n            \r\n            // Turn on z-buffer.\r\n            gl.enable(gl.DEPTH_TEST);\r\n\r\n            gl.useProgram(this.program);\r\n\r\n            this.uniformsData.u_matrix = haruluya_webgl_utils.projection3d(gl.canvas.clientWidth, gl.canvas.clientHeight, 400);\r\n            this.uniformsData.u_matrix = haruluya_webgl_utils.getTransformMatrix(this.uniformsData.u_matrix,this.transfrom);\r\n\r\n            haruluya_webgl_utils.setBuffersAndAttributes(gl, this.attribSetters, this.bufferInfo);\r\n            haruluya_webgl_utils.setUniforms(this.uniformSetters, this.uniformsData);\r\n\r\n            gl.drawArrays(gl.TRIANGLES, 0, 36);\r\n\r\n        },\r\n        SetUI(){\r\n            const gl = this.gl;\r\n            const updatePosition = function(index) {\r\n                return function(event, ui) {\r\n                    transfrom.translation[index] = ui.value;\r\n                    Render();\r\n                };\r\n            }\r\n\r\n            const updateRotation = function(index) {\r\n                return function(event, ui) {\r\n                    const angleInDegrees = ui.value;\r\n                    const angleInRadians = angleInDegrees * Math.PI / 180;\r\n                    transfrom.rotation[index] = angleInRadians;\r\n                    Render();\r\n                };\r\n            }\r\n\r\n            const updateScale = function(index) {\r\n                return function(event, ui) {\r\n                    transfrom.scale[index] = ui.value;\r\n                    Render();\r\n                };\r\n            }\r\n            \r\n            haruluya_webgl_utils.setupSlider(\"x\", {value: this.transfrom.translation[0], slide: updatePosition(0), max: gl.canvas.width });\r\n            haruluya_webgl_utils.setupSlider(\"y\", {value: this.transfrom.translation[1], slide: updatePosition(1), max: gl.canvas.height});\r\n            haruluya_webgl_utils.setupSlider(\"z\", {value: this.transfrom.translation[2], slide: updatePosition(2), max: gl.canvas.height});\r\n            haruluya_webgl_utils.setupSlider(\"angleX\", {value: haruluya_webgl_utils.radToDeg(this.transfrom.rotation[0]), slide: updateRotation(0), max: 360});\r\n            haruluya_webgl_utils.setupSlider(\"angleY\", {value: haruluya_webgl_utils.radToDeg(this.transfrom.rotation[1]), slide: updateRotation(1), max: 360});\r\n            haruluya_webgl_utils.setupSlider(\"angleZ\", {value: haruluya_webgl_utils.radToDeg(this.transfrom.rotation[2]), slide: updateRotation(2), max: 360});\r\n            haruluya_webgl_utils.setupSlider(\"scaleX\", {value: this.transfrom.scale[0], slide: updateScale(0), min: -5, max: 5, step: 0.01, precision: 2});\r\n            haruluya_webgl_utils.setupSlider(\"scaleY\", {value: this.transfrom.scale[1], slide: updateScale(1), min: -5, max: 5, step: 0.01, precision: 2});\r\n            haruluya_webgl_utils.setupSlider(\"scaleZ\", {value: this.transfrom.scale[2], slide: updateScale(2), min: -5, max: 5, step: 0.01, precision: 2});\r\n            // transform callback.\r\n            const transfrom = this.transfrom;\r\n            const Render = this.Render;\r\n\r\n           \r\n        \r\n        },\r\n        Destory(){\r\n\r\n        },\r\n        handleClick() {\r\n            window.location.href = \"https://github.com/Haruluya/Rock-sugar/blob/master/rock-sugar/src/pages/WebglDemo/Orthographic/index.vue\";\r\n        },\r\n\r\n    },\r\n    beforeDestory() {\r\n        this.Destory();\r\n    },\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@import \"../index.less\";\r\n</style>\r\n","export default\r\n`\r\nattribute vec4 a_position;\r\nattribute vec4 a_color;\r\nuniform mat4 u_matrix;\r\nvarying vec4 v_color;\r\nvoid main() {\r\n    gl_Position = u_matrix * a_position;\r\n    v_color = a_color;\r\n}\r\n`","export default\r\n`\r\nprecision mediump float;\r\nvarying vec4 v_color;\r\nvoid main() {\r\n    gl_FragColor = v_color;\r\n}\r\n`","export default\r\n{\r\n    position: new Float32Array([\r\n        // 正面。\r\n        200,   50,  0,\r\n        0, 50,  0,\r\n        0,   150,  0,\r\n        0, 150,  0,\r\n        200, 150,  0,\r\n        200,   50,  0,\r\n    \r\n        // 顶面。\r\n        200,   50,  100,\r\n        0,  50,  100,\r\n        0,   50,  0,\r\n        0,  50,  0,\r\n        200,  50,  0,\r\n        200,   50,  100,\r\n    \r\n        // 右侧面。\r\n        200,  50,  0,\r\n        200,  150,  0,\r\n        200,  150,  100,\r\n        200,  150,  100,\r\n        200,  50,  100,\r\n        200,  50,  0,\r\n    \r\n        // 左侧面。\r\n        0,   50,  0,\r\n        0,   50,  100,\r\n        0,   150,  100,\r\n        0,   150,  100,\r\n        0,   150,  0,\r\n        0, 50,  0,\r\n    \r\n        // 底面。\r\n        0,   150,  0,\r\n        0,   150,  100,\r\n        200,   150,  100,\r\n        200,   150,  100,\r\n        200,  150,  0,\r\n        0,   150,  0,\r\n    \r\n        // 后面。\r\n        200,  50,  100,\r\n        200,  150,  100,\r\n        0,  150,  100,\r\n        0,  150,  100,\r\n        0,  50,  100,\r\n        200,  50,  100,  \r\n    \r\n    \r\n    ]),\r\n\r\n    color: new Uint8Array([\r\n        // 正面。\r\n        0,  59, 252,\r\n        0,  80, 252,\r\n        0,  218, 252,\r\n        0,  218, 252,\r\n        0,  80, 252,\r\n        0,  59, 252,\r\n        // 顶面。\r\n        252,  0, 0,\r\n        150,  0, 0,\r\n        0,  0, 0,\r\n        0,  0, 0,\r\n        150,  0, 0,\r\n        252,  0, 0,\r\n    \r\n        // 右侧面。\r\n        252,  227, 103,\r\n        150,  227, 103,\r\n        0,  227, 103,\r\n        0,  227, 103,\r\n        150,  227, 103,\r\n        252,  227, 103,\r\n    \r\n        // 左侧面。\r\n        252,  227, 103,\r\n        150,  227, 103,\r\n        0,  227, 103,\r\n        0,  227, 103,\r\n        150,  227, 103,\r\n        252,  227, 103,\r\n    \r\n        // 底面。\r\n        252,  0, 0,\r\n        150,  0, 0,\r\n        0,  0, 0,\r\n        0,  0, 0,\r\n        150,  0, 0,\r\n        252,  0, 0,\r\n    \r\n        // 后面。\r\n        0,  59, 252,\r\n        0,  80, 252,\r\n        0,  218, 252,\r\n        0,  218, 252,\r\n        0,  80, 252,\r\n        0,  59, 252,\r\n    \r\n    ]),\r\n    \r\n}","import { render } from \"./index.vue?vue&type=template&id=5ce582cc&scoped=true&lang=html\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=5ce582cc&lang=less&scoped=true\"\n\nimport exportComponent from \"F:\\\\Note-Haruluya\\\\Project\\\\Rock-sugar\\\\rock-sugar\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5ce582cc\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createElementVNode","_createVNode","_component_nano_canvas","prop_vertex_shader_source","$data","prop_fragment_shader_source","_hoisted_3","_component_nano_webgl_des_panel","prop_category","category","prop_name","name","prop_button_content","buttonContent","prop_title","title","prop_content","content","onHandleClick","$options","position","Float32Array","color","Uint8Array","desData","positions","data","colors","gl","program","vertexShaderSource","fragmentShaderSource","bufferData","uniformsData","u_matrix","bufferInfo","uniformSetters","attribSetters","transfrom","translation","rotation","haruluya_webgl_utils","degToRad","scale","mounted","this","Init","SetUI","methods","canvas","initWebglContext","createProgramFromScripts","createBufferInfoFromArrays","createUniformSetters","createAttributeSetters","Render","resizeCanvasToDisplaySize","viewport","width","height","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","enable","CULL_FACE","DEPTH_TEST","useProgram","projection3d","clientWidth","clientHeight","getTransformMatrix","setBuffersAndAttributes","setUniforms","drawArrays","TRIANGLES","updatePosition","index","event","ui","value","updateRotation","angleInDegrees","angleInRadians","Math","PI","updateScale","setupSlider","slide","max","radToDeg","min","step","precision","Destory","handleClick","window","location","href","beforeDestory","__exports__","render"],"sourceRoot":""}