"use strict";(self["webpackChunkrock_sugar"]=self["webpackChunkrock_sugar"]||[]).push([[818],{6818:function(e,a,t){t.r(a),t.d(a,{default:function(){return m}});var n=t(3396);function r(e,a,t,r,s,i){const o=(0,n.up)("nano_webgl_demo_panel");return(0,n.wg)(),(0,n.j4)(o,{prop_des_data:s.desData,prop_ui_setter:s.uiSetter,prop_vertex_shader:s.vertexShaderSource,prop_fragment_shader:s.fragmentShaderSource,prop_section_params:s.sectionParams,ref:"page",onInit:i.Init,onRender:i.Render,onProp_ui_setter:s.uiSetter},null,8,["prop_des_data","prop_ui_setter","prop_vertex_shader","prop_fragment_shader","prop_section_params","onInit","onRender","onProp_ui_setter"])}var s="\n    attribute vec2 a_position;\n    uniform mat3 u_matrix;\n    varying vec4 v_color;    \n    void main() {\n        gl_Position = vec4((u_matrix * vec3(a_position, 1)).xy, 0, 1);\n        v_color = gl_Position * 0.5 + 0.5;\n    }\n",i="\n    precision mediump float;\n    varying vec4 v_color;\n    void main() {\n        gl_FragColor = v_color;\n    }\n\n",o=(t(8675),t(3408),t(4590),{position:new Float32Array([0,-100,150,125,-175,100])}),l=t(720);const c={category:"Webgl",name:"Triangle",buttonContent:"查看源码",title:"三角",content:"Say 'Hello World!' to CG world."},g=o.position;var p={name:"Triangle",data(){return{gl:null,canvas:null,program:null,vertexShaderSource:s,fragmentShaderSource:i,sectionParams:{translation:{x:300,y:200,z:0},scale:{x:1,y:1,z:1},angleInDegrees:0},desData:c,uiSetter:[]}},computed:{angleInRadians(){let e=360-this.sectionParams.angleInDegrees;return e*Math.PI/180}},methods:{Init(){this.gl=this.$refs.page.getGL(),this.canvas=this.$refs.page.getCanvas(),this.program=this.$refs.page.getProgram(),this.$refs.page.addBuffer("position",{numComponents:2,data:g})},Render(){const e=this.gl,a=this.sectionParams;let t=HNWUEngine.projection2d(e.canvas.clientWidth,e.canvas.clientHeight);t=HNWUEngine.translate2d(t,a.translation["x"],a.translation["y"]),t=HNWUEngine.rotate2d(t,this.angleInRadians),t=HNWUEngine.scale2d(t,a.scale["x"],a.scale["y"]),this.$refs.page.addUniform("u_matrix",t),this.$refs.page.glDraw({mode:e.TRIANGLES,first:0,count:3})}},mounted(){this.uiSetter=[{type:"slider-vector",id:"translation",value:this.sectionParams.translation,min:{x:0,y:0,z:0},max:{x:500,y:500,z:500},callback:l.Z.globalUiCallbacks.updateVector3(this.sectionParams,this.$refs.page.Render,"translation")},{type:"slider-vector",id:"scale",value:this.sectionParams.scale,min:{x:0,y:0,z:0},max:{x:10,y:10,z:10},callback:l.Z.globalUiCallbacks.updateVector3(this.sectionParams,this.$refs.page.Render,"scale")},{type:"slider",id:"angleInDegrees",value:this.sectionParams.angleInDegrees,min:0,max:360,callback:l.Z.globalUiCallbacks.updateValue(this.sectionParams,this.$refs.page.Render,"angleInDegrees")}]}},d=t(89);const u=(0,d.Z)(p,[["render",r]]);var m=u}}]);
//# sourceMappingURL=818.5fb320c6.js.map