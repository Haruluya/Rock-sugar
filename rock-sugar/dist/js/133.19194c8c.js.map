{"version":3,"file":"js/133.19194c8c.js","mappings":"kQACIA,EAAAA,EAAAA,IAMEC,EAAA,CALGC,cAAeC,EAAAA,QACfC,eAAgBC,EAAAA,SAChBC,YAAaH,EAAAA,aACbI,oBAAqBJ,EAAAA,cACtBK,IAAI,QALR,8E,CCDJ,MACC,8OCDD,EACC,2HCDD,G,wBAAA,CACIC,SAAS,IAAIC,aAAa,CAAC,GAAI,IAAK,IAAK,KAAM,IAAK,Q,SHexD,MAAMC,EAAU,CACZC,SAAS,QACTC,KAAK,WACLC,cAAc,OACdC,MAAM,KACNC,QAAQ,mCAGNP,EAAYQ,EAAKR,SAOvB,OACII,KAAM,WACNI,OACI,MAAO,CAEHC,GAAI,KACJC,QAAS,KACTC,aAAa,CACTC,mBADS,EAETC,qBAAoBA,GAGxBC,WAAW,CACPd,SAAS,CAACe,cAAc,EAAEP,KAAKR,IAEnCgB,aAAa,CACTC,SAAU,MAEdC,WAAW,KACXC,cAAc,KACdC,eAAe,KAEfC,cAAc,CAEVC,YAAa,CAAC,IAAK,IAAI,GACvBC,SAAS,CAACC,qBAAqBC,SAAS,GAAID,qBAAqBC,SAAS,GAAID,qBAAqBC,SAAS,IAC5GC,MAAO,CAAC,EAAG,EAAE,GACbC,eAAe,EACfC,aAAa,MAIjB1B,UAEP,EAED2B,SAAS,CAELC,WACI,IAAIT,EAAgBU,KAAKV,cACzB,MAAO,CACH,CAAEW,KAAM,SAAUC,GAAI,SAAUC,MAAOb,EAAcC,YAAY,GAAIa,IAAK,EAAGC,IAAK,IAAMC,SAAUC,EAAAA,EAAAA,kBAAAA,YAAwCP,KAAM,cAAe,IAItK,GAELQ,QAAS,CACLC,OACIC,QAAQC,IAAIX,KAAKY,MAAMC,MACvBb,KAAKY,MAAMC,KAAKJ,OAChB,MAAM,GAAE/B,EAAF,OAAMoC,GAAWrB,qBAAqBsB,iBAAiB,UAC7Df,KAAKtB,GAAKA,EACVsB,KAAKc,OAASA,EACdd,KAAKrB,QAAUc,qBAAqBuB,yBAAyBtC,EAAI,CAAC,gBAAiB,oBAEnFsB,KAAKb,WAAaM,qBAAqBwB,2BAA2BvC,EAAIsB,KAAKjB,YAC3EiB,KAAKZ,cAAiBK,qBAAqByB,uBAAuBxC,EAAIsB,KAAKrB,SAC3EqB,KAAKmB,QACR,EACDA,SACInB,KAAKY,MAAMC,KAAKM,SAEhB,MAAMzC,EAAKsB,KAAKtB,GAChBe,qBAAqB2B,0BAA0B1C,EAAGoC,QAElDpC,EAAG2C,SAAS,EAAG,EAAG3C,EAAGoC,OAAOQ,MAAO5C,EAAGoC,OAAOS,QAC7C7C,EAAG8C,MAAM9C,EAAG+C,kBACZ/C,EAAGgD,WAAW1B,KAAKrB,SAGnB,MAAMW,EAAgBU,KAAKV,cAErBqC,EAAiBjD,EAAGkD,mBAAmB5B,KAAKrB,QAAS,YAC3D,IAAIkD,EAASpC,qBAAqBqC,aAAapD,EAAGoC,OAAOiB,YAAarD,EAAGoC,OAAOkB,cAChFH,EAASpC,qBAAqBwC,YAAYJ,EAAQvC,EAAcC,YAAY,GAAID,EAAcC,YAAY,IAC1GsC,EAASpC,qBAAqByC,SAASL,EAAQvC,EAAcM,gBAC7DiC,EAASpC,qBAAqB0C,QAAQN,EAAQvC,EAAcK,MAAM,GAAIL,EAAcK,MAAM,IAC1FjB,EAAG0D,iBAAiBT,GAAgB,EAAOE,GAE3CpC,qBAAqB4C,wBAAwB3D,EAAIsB,KAAKZ,cAAeY,KAAKb,YAE1ET,EAAG4D,WAAW5D,EAAG6D,UAAW,EAAG,EAClC,EAEDC,QACIxC,KAAKY,MAAMC,KAAK2B,OACnB,GAELC,UACIzC,KAAKS,OACLT,KAAKwC,OACR,G,QItHL,MAAME,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://rock-sugar/./src/pages/Webgl/WebglDemo/Triangle/index.vue","webpack://rock-sugar/./src/pages/Webgl/WebglDemo/Triangle/resource/vertex-shader.js","webpack://rock-sugar/./src/pages/Webgl/WebglDemo/Triangle/resource/fragment-shader.js","webpack://rock-sugar/./src/pages/Webgl/WebglDemo/Triangle/resource/data.js","webpack://rock-sugar/./src/pages/Webgl/WebglDemo/Triangle/index.vue?167d"],"sourcesContent":["<template lang=\"html\">\r\n    <nano_webgl_demo_panel\r\n        :prop_des_data=\"desData\"\r\n        :prop_ui_setter=\"uiSetter\"\r\n        :prop_shader=\"shaderSource\"\r\n        :prop_section_params=\"sectionParams\"\r\n        ref=\"page\"\r\n    />\r\n</template>\r\n<script>\r\n\r\nimport vertexShaderSource from './resource/vertex-shader.js'\r\nimport fragmentShaderSource from './resource/fragment-shader.js'\r\nimport data from './resource/data.js'\r\nimport uiSetting from \"../ui-setting\"\r\n\r\nconst desData = {\r\n    category:\"Webgl\",\r\n    name:\"Triangle\",\r\n    buttonContent:\"查看源码\",\r\n    title:\"三角\",\r\n    content:\"Say 'Hello World!' to CG world.\"\r\n}\r\n\r\nconst position =  data.position;\r\n\r\n/*\r\n    @author:haruluya\r\n    @des: Hello World!.\r\n*/\r\n\r\nexport default {\r\n    name: \"Triangle\",\r\n    data() {\r\n        return {\r\n            //gl context.\r\n            gl: null,\r\n            program: null,\r\n            shaderSource:{\r\n                vertexShaderSource,\r\n                fragmentShaderSource\r\n            },\r\n            //attribute and uniform.\r\n            bufferData:{\r\n                position:{numComponents:2,data:position}\r\n            },\r\n            uniformsData:{\r\n                u_matrix: null,\r\n            },\r\n            bufferInfo:null,\r\n            attribSetters:null,\r\n            uniformSetters:null,\r\n\r\n            sectionParams:{\r\n                //params.\r\n                translation: [300, 200,0],\r\n                rotation:[haruluya_webgl_utils.degToRad(0), haruluya_webgl_utils.degToRad(0), haruluya_webgl_utils.degToRad(0)],\r\n                scale: [1, 1,1],\r\n                angleInRadians:0,\r\n                debugContent:null\r\n            },\r\n\r\n            // component data.\r\n            desData,\r\n        };\r\n    },\r\n\r\n    computed:{\r\n        //uiSetter.\r\n        uiSetter(){\r\n            let sectionParams = this.sectionParams;\r\n            return [\r\n                { type: \"slider\", id: \"beginX\", value: sectionParams.translation[0], min: 0, max: 1000, callback: uiSetting.globalUiCallbacks.updatePoint(this, \"translation\", 0)\r\n                },\r\n\r\n            ]\r\n        },\r\n    },\r\n    methods: {\r\n        Init() {\r\n            console.log(this.$refs.page)\r\n            this.$refs.page.Init();\r\n            const { gl, canvas } = haruluya_webgl_utils.initWebglContext(\"canvas\");\r\n            this.gl = gl;\r\n            this.canvas = canvas;\r\n            this.program = haruluya_webgl_utils.createProgramFromScripts(gl, [\"vertex-shader\", \"fragment-shader\"]);\r\n            // attributes.\r\n            this.bufferInfo = haruluya_webgl_utils.createBufferInfoFromArrays(gl, this.bufferData);\r\n            this.attribSetters  = haruluya_webgl_utils.createAttributeSetters(gl, this.program);\r\n            this.Render();\r\n        },\r\n        Render() {\r\n            this.$refs.page.Render();\r\n\r\n            const gl = this.gl;\r\n            haruluya_webgl_utils.resizeCanvasToDisplaySize(gl.canvas);\r\n\r\n            gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\r\n            gl.clear(gl.COLOR_BUFFER_BIT);\r\n            gl.useProgram(this.program);\r\n\r\n            // set matix.\r\n            const sectionParams = this.sectionParams;\r\n\r\n            const matrixLocation = gl.getUniformLocation(this.program, \"u_matrix\");\r\n            let matrix = haruluya_webgl_utils.projection2d(gl.canvas.clientWidth, gl.canvas.clientHeight);\r\n            matrix = haruluya_webgl_utils.translate2d(matrix, sectionParams.translation[0], sectionParams.translation[1]);\r\n            matrix = haruluya_webgl_utils.rotate2d(matrix, sectionParams.angleInRadians);\r\n            matrix = haruluya_webgl_utils.scale2d(matrix, sectionParams.scale[0], sectionParams.scale[1]);\r\n            gl.uniformMatrix3fv(matrixLocation, false, matrix);\r\n\r\n            haruluya_webgl_utils.setBuffersAndAttributes(gl, this.attribSetters, this.bufferInfo);\r\n\r\n            gl.drawArrays(gl.TRIANGLES, 0, 3);\r\n        },\r\n        \r\n        SetUI(){\r\n            this.$refs.page.SetUI();\r\n        },\r\n    },\r\n    mounted() {\r\n        this.Init();\r\n        this.SetUI();\r\n    },\r\n\r\n};\r\n</script>\r\n","export default\r\n`\r\n    attribute vec2 a_position;\r\n    uniform mat3 u_matrix;\r\n    varying vec4 v_color;    \r\n    void main() {\r\n        gl_Position = vec4((u_matrix * vec3(a_position, 1)).xy, 0, 1);\r\n        v_color = gl_Position * 0.5 + 0.5;\r\n    }\r\n`","export default\r\n`\r\n    precision mediump float;\r\n    varying vec4 v_color;\r\n    void main() {\r\n        gl_FragColor = v_color;\r\n    }\r\n\r\n`","export default{\r\n    position:new Float32Array([0, -100, 150, 125, -175, 100]),\r\n    \r\n}","import { render } from \"./index.vue?vue&type=template&id=ac949e70&lang=html\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"F:\\\\Note-Haruluya\\\\Project\\\\Rock-sugar\\\\rock-sugar\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_nano_webgl_demo_panel","prop_des_data","$data","prop_ui_setter","$options","prop_shader","prop_section_params","ref","position","Float32Array","desData","category","name","buttonContent","title","content","data","gl","program","shaderSource","vertexShaderSource","fragmentShaderSource","bufferData","numComponents","uniformsData","u_matrix","bufferInfo","attribSetters","uniformSetters","sectionParams","translation","rotation","haruluya_webgl_utils","degToRad","scale","angleInRadians","debugContent","computed","uiSetter","this","type","id","value","min","max","callback","uiSetting","methods","Init","console","log","$refs","page","canvas","initWebglContext","createProgramFromScripts","createBufferInfoFromArrays","createAttributeSetters","Render","resizeCanvasToDisplaySize","viewport","width","height","clear","COLOR_BUFFER_BIT","useProgram","matrixLocation","getUniformLocation","matrix","projection2d","clientWidth","clientHeight","translate2d","rotate2d","scale2d","uniformMatrix3fv","setBuffersAndAttributes","drawArrays","TRIANGLES","SetUI","mounted","__exports__","render"],"sourceRoot":""}