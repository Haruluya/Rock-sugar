{"version":3,"file":"js/798.ff3cbcf7.js","mappings":"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","sources":["webpack://rock-sugar/./src/pages/Webgl/WebglDemo/DirectionalLight/index.vue","webpack://rock-sugar/./src/pages/Webgl/WebglDemo/DirectionalLight/resource/vertex-shader.js","webpack://rock-sugar/./src/pages/Webgl/WebglDemo/DirectionalLight/resource/fragment-shader.js","webpack://rock-sugar/./src/pages/Webgl/WebglDemo/DirectionalLight/resource/data.js","webpack://rock-sugar/./src/pages/Webgl/WebglDemo/DirectionalLight/index.vue?62c3"],"sourcesContent":["<template lang=\"html\">\r\n    <div class=\"pageContainer\">\r\n        <div class=\"webglContainer\">\r\n            <nano_canvas\r\n             :prop_vertex_shader_source=\"vertexShaderSource\"\r\n             :prop_fragment_shader_source=\"fragmentShaderSource\"\r\n            />\r\n            <div id=\"uiContainer\">\r\n                <div id=\"ui\">\r\n                    <ui id=\"x\"></ui>\r\n                    <ui id=\"y\"></ui>\r\n                    <ui id=\"z\"></ui>\r\n                    <ui id=\"angleX\"></ui>\r\n                    <ui id=\"angleY\"></ui>\r\n                    <ui id=\"angleZ\"></ui>\r\n                    <ui id=\"scaleX\"></ui>\r\n                    <ui id=\"scaleY\"></ui>\r\n                    <ui id=\"scaleZ\"></ui>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        <nano_webgl_des_panel\r\n            :prop_category=\"desData.category\"\r\n            :prop_name=\"desData.name\"\r\n            :prop_button_content=\"desData.buttonContent\"\r\n            :prop_title=\"desData.title\"\r\n            :prop_content=\"desData.content\"\r\n            @handleClick=\"handleClick\"\r\n            />\r\n\r\n    </div>\r\n\r\n    \r\n</template>\r\n<script>\r\nimport vertexShaderSource from './resource/vertex-shader.js'\r\nimport fragmentShaderSource from './resource/fragment-shader.js'\r\nimport data from './resource/data'\r\n\r\nconst desData = {\r\n    category:\"Webgl\",\r\n    name:\"DirectionalLight\",\r\n    buttonContent:\"查看源码\",\r\n    title:\"方向光\",\r\n    content:\"Is the direction of light the direction of hope?\"\r\n}\r\nconst colors = data.color;\r\nconst positions = data.position;\r\nconst normal = data.normal;\r\n\r\n\r\nexport default {\r\n    name:'DirectionLight',\r\n    data() {\r\n        return {\r\n            gl: null,\r\n            canvas: null,\r\n            program: null,\r\n            vertexShaderSource,\r\n            fragmentShaderSource,\r\n            desData,\r\n            bufferData:{\r\n                position:{data:[]},\r\n                color:{data:colors},\r\n                normal:{data:normal}\r\n            },\r\n            uniformsData:{\r\n                u_worldViewProjection: null,\r\n                u_worldInverseTranspose:null,\r\n                u_reverseLightDirection:null\r\n            },\r\n            bufferInfo:null,\r\n            uniformSetters:null,\r\n            attribSetters:null,\r\n            transfrom:{\r\n                translation:[0, 0, 0],\r\n                rotation:[haruluya_webgl_utils.degToRad(180), haruluya_webgl_utils.degToRad(185), haruluya_webgl_utils.degToRad(360)],\r\n                scale:[1,0.8,1]\r\n            },\r\n            perspective:{\r\n                aspect:0,\r\n                fieldOfViewRadians:  haruluya_webgl_utils.degToRad(60),\r\n                zNear: 1,\r\n                zFar: 2000,\r\n            },\r\n            camera:{\r\n                target:[0, 35, 0],\r\n                position:[100, 150, 200],\r\n                up:[0,1,0]\r\n            },\r\n        }\r\n    },\r\n    mounted() {\r\n        this.Init();\r\n        this.SetUI();\r\n\r\n    },\r\n    methods: {\r\n        Init(){\r\n            const { gl, canvas } = haruluya_webgl_utils.initWebglContext(\"canvas\");\r\n            this.gl = gl;\r\n            this.canvas = canvas;\r\n            this.program = haruluya_webgl_utils.createProgramFromScripts(gl, [\"vertex-shader\", \"fragment-shader\"]);\r\n            //Get bufferinfo and setters.\r\n            this.perspective.aspect = gl.canvas.clientWidth / gl.canvas.clientHeight;\r\n\r\n            this.setPosition();\r\n\r\n            this.bufferInfo = haruluya_webgl_utils.createBufferInfoFromArrays(gl, this.bufferData);\r\n            this.uniformSetters = haruluya_webgl_utils.createUniformSetters(gl, this.program);\r\n            this.attribSetters  = haruluya_webgl_utils.createAttributeSetters(gl, this.program);\r\n            this.Render();\r\n        },\r\n        Render(){\r\n            const gl = this.gl;\r\n            const program = this.program;\r\n            haruluya_webgl_utils.resizeCanvasToDisplaySize(gl.canvas);\r\n            gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\r\n            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n\r\n            gl.enable(gl.CULL_FACE);\r\n            gl.enable(gl.DEPTH_TEST);\r\n\r\n            gl.useProgram(program);\r\n\r\n            haruluya_webgl_utils.setBuffersAndAttributes(gl, this.attribSetters, this.bufferInfo);\r\n        \r\n            let projectionMatrix = haruluya_webgl_utils.perspective(\r\n                this.perspective.fieldOfViewRadians, \r\n                this.perspective.aspect, \r\n                this.perspective.zNear, \r\n                this.perspective.zFar\r\n                );\r\n            let cameraMatrix = haruluya_webgl_utils.lookAt(this.camera.position, this.camera.target, this.camera.up);\r\n            let viewMatrix = haruluya_webgl_utils.inverse(cameraMatrix);\r\n            var viewProjectionMatrix = haruluya_webgl_utils.multiply3d(projectionMatrix, viewMatrix);\r\n            let worldMatrix = haruluya_webgl_utils.getTransformMatrix(\r\n                haruluya_webgl_utils.xRotation(0),\r\n                this.transfrom\r\n            )\r\n\r\n            // normal transform.\r\n            var worldViewProjectionMatrix = haruluya_webgl_utils.multiply3d(viewProjectionMatrix, worldMatrix);\r\n            var worldInverseMatrix = haruluya_webgl_utils.inverse(worldMatrix);\r\n            var worldInverseTransposeMatrix = haruluya_webgl_utils.transpose(worldInverseMatrix);\r\n\r\n            this.uniformsData.u_worldViewProjection = worldViewProjectionMatrix;\r\n            this.uniformsData.u_worldInverseTranspose = worldInverseTransposeMatrix;\r\n            this.uniformsData.u_reverseLightDirection = haruluya_webgl_utils.normalize([0.5, 0.7, 1]);\r\n            haruluya_webgl_utils.setUniforms(this.uniformSetters, this.uniformsData);\r\n            gl.drawArrays(gl.TRIANGLES, 0, 6*6);\r\n        },\r\n        SetUI(){\r\n            const gl = this.gl;\r\n            let Render = this.Render;\r\n            let transform = this.transfrom;\r\n\r\n            // transform callback.\r\n            const updatePosition = function (index) {\r\n                return function(event, ui) {\r\n                    transform.translation[index] = ui.value;\r\n                    Render();\r\n                };\r\n            }\r\n\r\n            const updateRotation = function (index) {\r\n                return function(event, ui) {\r\n                    const angleInDegrees = ui.value;\r\n                    const angleInRadians = angleInDegrees * Math.PI / 180;\r\n                    transform.rotation[index] = angleInRadians;\r\n                    Render();\r\n                };\r\n            }\r\n\r\n            const updateScale = function (index) {\r\n                return function(event, ui) {\r\n                    transform.scale[index] = ui.value;\r\n                    Render();\r\n                };\r\n            }\r\n\r\n            // draw slider.\r\n            haruluya_webgl_utils.setupSlider(\"x\", {value: transform.translation[0], slide: updatePosition(0), max: gl.canvas.width });\r\n            haruluya_webgl_utils.setupSlider(\"y\", {value: transform.translation[1], slide: updatePosition(1), max: gl.canvas.height});\r\n            haruluya_webgl_utils.setupSlider(\"z\", {value: transform.translation[2], slide: updatePosition(2), max: gl.canvas.height});\r\n            haruluya_webgl_utils.setupSlider(\"angleX\", {value: haruluya_webgl_utils.radToDeg(transform.rotation[0]), slide: updateRotation(0), max: 360});\r\n            haruluya_webgl_utils.setupSlider(\"angleY\", {value: haruluya_webgl_utils.radToDeg(transform.rotation[1]), slide: updateRotation(1), max: 360});\r\n            haruluya_webgl_utils.setupSlider(\"angleZ\", {value: haruluya_webgl_utils.radToDeg(transform.rotation[2]), slide: updateRotation(2), max: 360});\r\n            haruluya_webgl_utils.setupSlider(\"scaleX\", {value: transform.scale[0], slide: updateScale(0), min: -5, max: 5, step: 0.01, precision: 2});\r\n            haruluya_webgl_utils.setupSlider(\"scaleY\", {value: transform.scale[1], slide: updateScale(1), min: -5, max: 5, step: 0.01, precision: 2});\r\n            haruluya_webgl_utils.setupSlider(\"scaleZ\", {value: transform.scale[2], slide: updateScale(2), min: -5, max: 5, step: 0.01, precision: 2});\r\n\r\n        },\r\n        Destory(){\r\n\r\n        },\r\n        handleClick() {\r\n            window.location.href = \"https://github.com/Haruluya/Rock-sugar/blob/master/rock-sugar/src/pages/WebglDemo/DirectionLight/index.vue\";\r\n        },\r\n        setPosition(){\r\n            let matrix = haruluya_webgl_utils.xRotation(Math.PI);\r\n            matrix = haruluya_webgl_utils.translate3d(matrix, -50, -75, -15);\r\n\r\n            for (let ii = 0; ii < positions.length; ii += 3) {\r\n                let vector = haruluya_webgl_utils.transformPoint(matrix, [positions[ii + 0], positions[ii + 1], positions[ii + 2], 1]);\r\n                positions[ii + 0] = vector[0];\r\n                positions[ii + 1] = vector[1];\r\n                positions[ii + 2] = vector[2];\r\n            }\r\n\r\n            this.bufferData.position.data = positions;\r\n        }\r\n\r\n\r\n    },\r\n    beforeDestory() {\r\n        this.Destory();\r\n    },\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@import \"../index.less\";\r\n</style>\r\n","export default\r\n`\r\nattribute vec4 a_position;\r\nattribute vec4 a_color;\r\nattribute vec3 a_normal;\r\nuniform mat4 u_worldViewProjection;\r\nuniform mat4 u_worldInverseTranspose;\r\nvarying vec3 v_normal;\r\nvarying vec4 v_color;\r\nvoid main() {\r\n    gl_Position = u_worldViewProjection * a_position;\r\n    v_normal = mat3(u_worldInverseTranspose) * a_normal;\r\n    v_color = a_color;\r\n}\r\n`","export default\r\n`\r\nprecision mediump float;\r\nvarying vec3 v_normal;\r\nuniform vec3 u_reverseLightDirection;\r\nvarying vec4 v_color;\r\nvoid main() {\r\n    vec3 normal = normalize(v_normal);\r\n    float light = dot(normal, u_reverseLightDirection);\r\n    gl_FragColor = v_color;\r\n    gl_FragColor.rgb *= light;\r\n}\r\n`","export default\r\n{\r\n    position:new Float32Array([\r\n        // 正面。\r\n        200,   50,  0,\r\n        0, 50,  0,\r\n        0,   150,  0,\r\n        0, 150,  0,\r\n        200, 150,  0,\r\n        200,   50,  0,\r\n\r\n        // 顶面。\r\n        200,   50,  100,\r\n        0,  50,  100,\r\n        0,   50,  0,\r\n        0,  50,  0,\r\n        200,  50,  0,\r\n        200,   50,  100,\r\n\r\n        // 右侧面。\r\n        200,  50,  0,\r\n        200,  150,  0,\r\n        200,  150,  100,\r\n        200,  150,  100,\r\n        200,  50,  100,\r\n        200,  50,  0,\r\n\r\n        // 左侧面。\r\n        0,   50,  0,\r\n        0,   50,  100,\r\n        0,   150,  100,\r\n        0,   150,  100,\r\n        0,   150,  0,\r\n        0, 50,  0,\r\n\r\n        // 底面。\r\n        0,   150,  0,\r\n        0,   150,  100,\r\n        200,   150,  100,\r\n        200,   150,  100,\r\n        200,  150,  0,\r\n        0,   150,  0,\r\n\r\n        // 后面。\r\n        200,  50,  100,\r\n        200,  150,  100,\r\n        0,  150,  100,\r\n        0,  150,  100,\r\n        0,  50,  100,\r\n        200,  50,  100,  \r\n\r\n\r\n    ]),\r\n    color:new Uint8Array([\r\n        // 正面。\r\n        0,  59, 252,\r\n        0,  80, 252,\r\n        0,  218, 252,\r\n        0,  218, 252,\r\n        0,  80, 252,\r\n        0,  59, 252,\r\n        // 顶面。\r\n        252,  0, 0,\r\n        150,  0, 0,\r\n        0,  0, 0,\r\n        0,  0, 0,\r\n        150,  0, 0,\r\n        252,  0, 0,\r\n\r\n        // 右侧面。\r\n        252,  227, 103,\r\n        150,  227, 103,\r\n        0,  227, 103,\r\n        0,  227, 103,\r\n        150,  227, 103,\r\n        252,  227, 103,\r\n\r\n        // 左侧面。\r\n        252,  227, 103,\r\n        150,  227, 103,\r\n        0,  227, 103,\r\n        0,  227, 103,\r\n        150,  227, 103,\r\n        252,  227, 103,\r\n\r\n        // 底面。\r\n        252,  0, 0,\r\n        150,  0, 0,\r\n        0,  0, 0,\r\n        0,  0, 0,\r\n        150,  0, 0,\r\n        252,  0, 0,\r\n\r\n        // 后面。\r\n        0,  59, 252,\r\n        0,  80, 252,\r\n        0,  218, 252,\r\n        0,  218, 252,\r\n        0,  80, 252,\r\n        0,  59, 252,\r\n\r\n    ]),\r\n    normal:new Float32Array([\r\n        // 正面。\r\n        0,0,1,\r\n        0,0,1,\r\n        0,0,1,\r\n        0,0,1,\r\n        0,0,1,\r\n        0,0,1,\r\n        // 顶面。\r\n        0,1,0,\r\n        0,1,0,\r\n        0,1,0,\r\n        0,1,0,\r\n        0,1,0,\r\n        0,  1,0,\r\n        // 右侧面。\r\n        1,0,0,\r\n        1,0,0,\r\n        1,0,0,\r\n        1,0,0,\r\n        1,0,0,\r\n        1,0,0,\r\n        // 左侧面。\r\n        -1,0,0,\r\n        -1,0,0,\r\n        -1,0,0,\r\n        -1,0,0,\r\n        -1,0,0,\r\n        -1,0,0,\r\n        // 底面。\r\n        0,-1,0,\r\n        0,-1,0,\r\n        0,-1,0,\r\n        0,-1,0,\r\n        0,-1,0,\r\n        0,-1,0,\r\n        // 后面。\r\n        0,0,-1,\r\n        0,0,-1,\r\n        0,0,-1,\r\n        0,0,-1,\r\n        0,0,-1,\r\n        0,0,-1,\r\n\r\n    ])\r\n}","import { render } from \"./index.vue?vue&type=template&id=77af8c8c&scoped=true&lang=html\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=77af8c8c&lang=less&scoped=true\"\n\nimport exportComponent from \"F:\\\\Note-Haruluya\\\\Project\\\\Rock-sugar\\\\rock-sugar\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-77af8c8c\"]])\n\nexport default __exports__"],"names":["class","id","_createElementBlock","_createElementVNode","_createVNode","_component_nano_canvas","prop_vertex_shader_source","$data","prop_fragment_shader_source","_component_ui","_component_nano_webgl_des_panel","prop_category","category","prop_name","name","prop_button_content","buttonContent","prop_title","title","prop_content","content","onHandleClick","$options","position","Float32Array","color","Uint8Array","normal","desData","colors","data","positions","gl","canvas","program","vertexShaderSource","fragmentShaderSource","bufferData","uniformsData","u_worldViewProjection","u_worldInverseTranspose","u_reverseLightDirection","bufferInfo","uniformSetters","attribSetters","transfrom","translation","rotation","haruluya_webgl_utils","degToRad","scale","perspective","aspect","fieldOfViewRadians","zNear","zFar","camera","target","up","mounted","this","Init","SetUI","methods","initWebglContext","createProgramFromScripts","clientWidth","clientHeight","setPosition","createBufferInfoFromArrays","createUniformSetters","createAttributeSetters","Render","resizeCanvasToDisplaySize","viewport","width","height","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","enable","CULL_FACE","DEPTH_TEST","useProgram","setBuffersAndAttributes","projectionMatrix","cameraMatrix","lookAt","viewMatrix","inverse","viewProjectionMatrix","multiply3d","worldMatrix","getTransformMatrix","xRotation","worldViewProjectionMatrix","worldInverseMatrix","worldInverseTransposeMatrix","transpose","normalize","setUniforms","drawArrays","TRIANGLES","transform","updatePosition","index","event","ui","value","updateRotation","angleInDegrees","angleInRadians","Math","PI","updateScale","setupSlider","slide","max","radToDeg","min","step","precision","Destory","handleClick","window","location","href","matrix","translate3d","ii","length","vector","transformPoint","beforeDestory","__exports__","render"],"sourceRoot":""}