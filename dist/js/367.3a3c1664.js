"use strict";(self["webpackChunkrock_sugar"]=self["webpackChunkrock_sugar"]||[]).push([[367],{8367:function(e,t,r){r.r(t),r.d(t,{default:function(){return m}});var a=r(3396);function n(e,t,r,n,o,i){const s=(0,a.up)("nano_webgl_demo_panel");return(0,a.wg)(),(0,a.j4)(s,{prop_des_data:o.desData,prop_ui_setter:e.uiSetter,prop_vertex_shader:o.vertexShaderSource,prop_fragment_shader:o.fragmentShaderSource,prop_section_params:o.sectionParams,ref:"page",onInit:i.Init,onRender:i.Render,onProp_ui_setter:e.uiSetter},null,8,["prop_des_data","prop_ui_setter","prop_vertex_shader","prop_fragment_shader","prop_section_params","onInit","onRender","onProp_ui_setter"])}r(8675),r(3408),r(4590);var o="\nattribute vec4 a_position;\nattribute vec2 a_texcoord;\n\nuniform mat4 u_matrix;\n\nvarying vec2 v_texcoord;\n\nvoid main() {\n  // Multiply the position by the matrix.\n  gl_Position = u_matrix * a_position;\n\n  // Pass the texcoord to the fragment shader.\n  v_texcoord = a_texcoord;\n}\n",i="\nprecision mediump float;\n            \n// Passed in from the vertex shader.\nvarying vec2 v_texcoord;\n\n// The texture.\nuniform sampler2D u_texture;\n\nvoid main() {\n   gl_FragColor = texture2D(u_texture, v_texcoord);\n}\n",s={position:new Float32Array([-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,.5,.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,-.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5]),texcoord:[0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,1,0,0,1,1,1,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,1,0,0,1,1,1,0,0,0,1,1,0,0,1,1,1,1,0,0,0,0,1,1,0,1,0,0,1,1,1]};r(720);const _={category:"Webgl",name:"DataTexture",buttonContent:"查看源码",title:"程序纹理",content:"The next is DataHuman."},p=s.position,d=s.texcoord;var c={name:"DataTexture",data(){return{gl:null,canvas:null,program:null,vertexShaderSource:o,fragmentShaderSource:i,desData:_,transform:{translation:[0,0,0],rotation:[HNWUEngine.degToRad(0),HNWUEngine.degToRad(0),HNWUEngine.degToRad(0)],scale:[1,1,1]},sectionParams:{texture:0},perspective:{aspect:0,fieldOfViewRadians:HNWUEngine.degToRad(60),zNear:1,zFar:2e3},camera:{target:[0,0,0],position:[0,0,2],up:[0,1,0]}}},methods:{Init(){this.page=this.$refs.page,this.gl=this.page.getGL(),this.canvas=this.page.getCanvas(),this.program=this.page.getProgram();const e=this.gl;this.perspective.aspect=e.canvas.clientWidth/e.canvas.clientHeight,this.page.addBuffer("position",{numComponents:3,data:p}),this.page.addBuffer("texcoord",{numComponents:2,data:d}),this.page.setTransform(this.transform),this.sectionParams.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.sectionParams.texture);const t=0,r=e.LUMINANCE,a=3,n=2,o=0,i=e.LUMINANCE,s=e.UNSIGNED_BYTE,_=new Uint8Array([128,64,128,0,192,0]),c=1;e.pixelStorei(e.UNPACK_ALIGNMENT,c),e.texImage2D(e.TEXTURE_2D,t,r,a,n,o,i,s,_),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)},Render(){const e=this.gl,t=this.program;e.enable(e.CULL_FACE),e.enable(e.DEPTH_TEST);const r=this.page.caculateMVPMatrix(this.camera,this.perspective,this.transform);this.page.addUniform("u_matrix",r),e.uniform1i(e.getUniformLocation(t,"u_texture"),0),this.page.glDraw({mode:e.TRIANGLES,first:0,count:36})}}},u=r(89);const g=(0,u.Z)(c,[["render",n],["__scopeId","data-v-93395d16"]]);var m=g}}]);
//# sourceMappingURL=367.3a3c1664.js.map