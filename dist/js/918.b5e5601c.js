"use strict";(self["webpackChunkrock_sugar"]=self["webpackChunkrock_sugar"]||[]).push([[918],{7918:function(e,t,i){i.r(t),i.d(t,{default:function(){return d}});var r=i(3396);function a(e,t,i,a,s,n){const c=(0,r.up)("nano_cg_experiment_page");return(0,r.wg)(),(0,r.j4)(c,{prop_des_data:s.desData,prop_ui_setter:n.uiSetter,prop_section_params:s.sectionParams,ref:"page"},null,8,["prop_des_data","prop_ui_setter","prop_section_params"])}var s=i(2812);const n={category:"Experiment",name:"DrawCircle",buttonContent:"查看源码",title:"绘制圆",content:"Draw a circle without pi."};var c={name:"DrawCircle",data(){return{canvas:null,ctx:null,desData:n,sectionParams:{circleCenter:{x:30,y:18},radius:10,color:"#0bc6e3",girdSize:8,debugContent:null,screenTransform:{x:0,y:0,scale:100}}}},computed:{uiSetter(){let e=this.sectionParams;return[{type:"slider-vector",id:"circleCenter",value:e.circleCenter,min:{x:0,y:0},max:{x:500,y:500},callback:s.Z.globalUiCallbacks.updatePoint(this,"circleCenter")},{type:"slider",id:"radius",value:e.radius,min:0,max:100,callback:s.Z.globalUiCallbacks.updateValue(this,"radius")},{type:"slider",id:"girdSize",value:e.girdSize,min:1,max:100,callback:s.Z.globalUiCallbacks.updateValue(this,"girdSize")},{type:"color",id:"color",default:e.color,callback:s.Z.globalUiCallbacks.updateValue(this,"color")}]}},methods:{Init(){this.$refs.page.Init(),this.canvas=this.$refs.page.getCanvas(),this.ctx=canvas.getContext("2d"),this.$refs.page.setViewer(this.sectionParams.screenTransform,this.Render),this.Render()},Render(){this.$refs.page.Render();const e=this.ctx,t=this.sectionParams,i=parseInt(this.canvas.width/this.sectionParams.girdSize)-1,r=parseInt(this.canvas.height/this.sectionParams.girdSize)-1;e.clearRect(0,0,this.canvas.width,this.canvas.height),this.sectionParams.girdSize+=this.$refs.page.girdSize,s.Z.drawGrid(this),this.sectionParams.girdSize<=0&&(this.sectionParams.girdSize=1),this.sectionParams.debugContent=[{title:"grid",content:"The number of cells in the x direction: "+i+"\nThe number of cells in the y direction: "+r}],e.fillStyle=t.color;const a=this.sectionParams.radius;if(a<1)return;let n,c,o=1-a;n=0,c=a;const l=this.sectionParams.circleCenter;while(n<c){const e={x:n,y:c};s.Z.drawPointInGrid(this,e.x+l.x,e.y+l.y,t.color),s.Z.drawPointInGrid(this,e.x+l.x,e.y+l.y,t.color),s.Z.drawPointInGrid(this,e.y+l.x,e.x+l.y,t.color),s.Z.drawPointInGrid(this,-e.y+l.x,e.x+l.y,t.color),s.Z.drawPointInGrid(this,-e.x+l.x,e.y+l.y,t.color),s.Z.drawPointInGrid(this,e.y+l.x,-e.x+l.y,t.color),s.Z.drawPointInGrid(this,e.x+l.x,-e.y+l.y,t.color),s.Z.drawPointInGrid(this,-e.x+l.x,-e.y+l.y,t.color),s.Z.drawPointInGrid(this,-e.y+l.x,-e.x+l.y,t.color),o<=0?o=o+2*n+3:(o=o+2*n-2*c+5,c--),n++}},SetUI(){this.$refs.page.SetUI()}},mounted(){this.Init(),this.SetUI()}},o=i(89);const l=(0,o.Z)(c,[["render",a]]);var d=l}}]);
//# sourceMappingURL=918.b5e5601c.js.map