"use strict";(self["webpackChunkrock_sugar"]=self["webpackChunkrock_sugar"]||[]).push([[711],{2711:function(e,t,i){i.r(t),i.d(t,{default:function(){return d}});var s=i(3396);function a(e,t,i,a,n,r){const o=(0,s.up)("nano_cg_experiment_page");return(0,s.wg)(),(0,s.j4)(o,{prop_des_data:n.desData,prop_ui_setter:r.uiSetter,prop_section_params:n.sectionParams,ref:"page"},null,8,["prop_des_data","prop_ui_setter","prop_section_params"])}var n=i(2812);const r={category:"Experiment",name:"Bresenham",buttonContent:"查看源码",title:"Bresenham画线",content:"Bresenham's line algorithm."};var o={name:"Bresenham",data(){return{canvas:null,ctx:null,desData:r,sectionParams:{beginPoint:{x:1,y:1},endPoint:{x:100,y:20},color:"#0bc6e3",girdSize:10,debugContent:null,screenTransform:{x:0,y:0,scale:100}}}},computed:{uiSetter(){let e=this.sectionParams;return[{type:"slider-vector",id:"beginPoint",value:e.beginPoint,min:{x:0,y:0},max:{x:500,y:500},callback:n.Z.globalUiCallbacks.updatePoint(this,"beginPoint")},{type:"slider-vector",id:"endPoint",value:e.endPoint,min:{x:0,y:0},max:{x:500,y:500},callback:n.Z.globalUiCallbacks.updatePoint(this,"endPoint")},{type:"slider",id:"girdSize",value:e.girdSize,min:1,max:100,callback:n.Z.globalUiCallbacks.updateValue(this,"girdSize")},{type:"color",id:"color",default:e.color,callback:n.Z.globalUiCallbacks.updateValue(this,"color")}]}},methods:{Init(){this.$refs.page.Init(),this.canvas=this.$refs.page.getCanvas(),this.ctx=canvas.getContext("2d"),this.$refs.page.setViewer(this.sectionParams.screenTransform,this.Render),this.Render()},Render(){this.$refs.page.Render();const e=this.ctx,t=this.sectionParams,i=parseInt(this.canvas.width/this.sectionParams.girdSize)-1,s=parseInt(this.canvas.height/this.sectionParams.girdSize)-1;e.clearRect(0,0,this.canvas.width,this.canvas.height),this.sectionParams.girdSize+=this.$refs.page.girdSize,n.Z.drawGrid(this),this.sectionParams.girdSize<=0&&(this.sectionParams.girdSize=1),this.sectionParams.debugContent=[{title:"grid",content:"The number of cells in the x direction: "+i+"\nThe number of cells in the y direction: "+s}],e.fillStyle=t.color;let a,r,o=t.beginPoint,l=t.endPoint,c=null,d=0,h=-.5;if(o.y!=l.y)if(o.x!=l.x)if(a=(l.y-o.y)/(l.x-o.x),a>0&&a<=1){o.x>l.x&&(c=o,o=l,l=c),h=-.5,r=o.x,d=o.y;while(r<l.x)n.Z.drawPointInGrid(this,r,d),h+=a,h>0&&(d++,h-=1),r++}else if(a>=-1&&a<0){o.x>l.x&&(c=o,o=l,l=c),h=.5,r=o.x,d=o.y;while(r<l.x)n.Z.drawPointInGrid(this,r,d),h+=a,h<0&&(d--,h+=1),r++}else if(a>1){o.y>l.y&&(c=o,o=l,l=c),h=-.5,r=o.x,d=o.y;while(d<l.y)n.Z.drawPointInGrid(this,r,d),h+=1/a,h>0&&(r+=1,h-=1),d++}else{o.y>l.y&&(c=o,o=l,l=c),h=.5,r=o.x,d=o.y;while(d<l.y)n.Z.drawPointInGrid(this,r,d),h+=1/a,h<0&&(r--,h+=1),d++}else for(o.y>l.y&&(c=o,o=l,l=c),d=o.y;d<l.y;d++)n.Z.drawPointInGrid(this,o.x,d);else for(o.x>l.x&&(c=o,o=l,l=c),r=o.x;r<l.x;r++)n.Z.drawPointInGrid(this,r,o.y)},SetUI(){this.$refs.page.SetUI(),n.Z.drawGrid(this)}},mounted(){this.Init(),this.SetUI()},destroyed(){this.Destory()}},l=i(89);const c=(0,l.Z)(o,[["render",a]]);var d=c}}]);
//# sourceMappingURL=711.1d06c102.js.map