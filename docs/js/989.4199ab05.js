"use strict";(self["webpackChunkrock_sugar"]=self["webpackChunkrock_sugar"]||[]).push([[989],{7989:function(e,a,r){r.r(a),r.d(a,{default:function(){return f}});var t=r(3396);function n(e,a,r,n,i,s){const o=(0,t.up)("nano_webgl_demo_panel");return(0,t.wg)(),(0,t.j4)(o,{prop_des_data:i.desData,prop_ui_setter:i.uiSetter,prop_vertex_shader:i.vertexShaderSource,prop_fragment_shader:i.fragmentShaderSource,prop_section_params:i.sectionParams,ref:"page",onInit:s.Init,onRender:s.Render,onProp_ui_setter:i.uiSetter},null,8,["prop_des_data","prop_ui_setter","prop_vertex_shader","prop_fragment_shader","prop_section_params","onInit","onRender","onProp_ui_setter"])}var i="\nattribute vec4 a_position;\nattribute vec4 a_color;\nuniform mat4 u_matrix;\nvarying vec4 v_color;\nvoid main() {\n    gl_Position = u_matrix * a_position;\n    v_color = a_color;\n}\n",s="\nprecision mediump float;\nvarying vec4 v_color;\nvoid main() {\n    gl_FragColor = v_color;\n}\n",o=(r(8675),r(3408),r(4590),{position:new Float32Array([200,50,0,0,50,0,0,150,0,0,150,0,200,150,0,200,50,0,200,50,100,0,50,100,0,50,0,0,50,0,200,50,0,200,50,100,200,50,0,200,150,0,200,150,100,200,150,100,200,50,100,200,50,0,0,50,0,0,50,100,0,150,100,0,150,100,0,150,0,0,50,0,0,150,0,0,150,100,200,150,100,200,150,100,200,150,0,0,150,0,200,50,100,200,150,100,0,150,100,0,150,100,0,50,100,200,50,100]),color:new Uint8Array([0,59,252,0,80,252,0,218,252,0,218,252,0,80,252,0,59,252,252,0,0,150,0,0,0,0,0,0,0,0,150,0,0,252,0,0,252,227,103,150,227,103,0,227,103,0,227,103,150,227,103,252,227,103,252,227,103,150,227,103,0,227,103,0,227,103,150,227,103,252,227,103,252,0,0,150,0,0,0,0,0,0,0,0,150,0,0,252,0,0,0,59,252,0,80,252,0,218,252,0,218,252,0,80,252,0,59,252])}),l=r(720);const d={category:"Webgl",name:"Perspective",buttonContent:"查看源码",title:"透视投影",content:"Failure is like perspective, throughout a person's life."},c=o.position,p=o.color;var g={name:"ImageProcess",data(){return{gl:null,canvas:null,program:null,vertexShaderSource:i,fragmentShaderSource:s,desData:d,sectionParams:{transform:{translation:[-150,0,-360],rotation:[HNWUEngine.degToRad(190),HNWUEngine.degToRad(40),HNWUEngine.degToRad(320)],scale:[1,1,1]},fieldOfViewRadians:60,zNear:1,zFar:2e3},uiSetter:[]}},methods:{Init(){this.gl=this.$refs.page.getGL(),this.canvas=this.$refs.page.getCanvas(),this.program=this.$refs.page.getProgram(),this.$refs.page.setTransform(this.sectionParams.transform),this.$refs.page.addBuffer("position",{data:c}),this.$refs.page.addBuffer("color",{data:p})},Render(){const e=this.gl;e.enable(e.CULL_FACE),e.enable(e.DEPTH_TEST);const a=e.canvas.clientWidth/e.canvas.clientHeight;let r=HNWUEngine.perspective(HNWUEngine.degToRad(this.sectionParams.fieldOfViewRadians),a,this.sectionParams.zNear,this.sectionParams.zFar);r=HNWUEngine.getTransformMatrix(r,this.sectionParams.transform),this.$refs.page.addUniform("u_matrix",r),this.$refs.page.glDraw({mode:e.TRIANGLES,first:0,count:36})}},mounted(){this.uiSetter=[{type:"slider",id:"fieldOfViewRadians",value:this.sectionParams.fieldOfViewRadians,min:1,max:180,callback:l.Z.globalUiCallbacks.updateValue(this.sectionParams,this.$refs.page.Render,"fieldOfViewRadians")},{type:"slider",id:"zNear",value:this.sectionParams.zNear,min:1,max:3e3,callback:l.Z.globalUiCallbacks.updateValue(this.sectionParams,this.$refs.page.Render,"zNear")},{type:"slider",id:"zFar",value:this.sectionParams.zFar,min:1,max:3e3,callback:l.Z.globalUiCallbacks.updateValue(this.sectionParams,this.$refs.page.Render,"zFar")}]}},u=r(89);const m=(0,u.Z)(g,[["render",n],["__scopeId","data-v-1fd878de"]]);var f=m}}]);
//# sourceMappingURL=989.4199ab05.js.map