{"version":3,"file":"js/190.1bdab9f6.js","mappings":"0QACIA,EAAAA,EAAAA,IASEC,EAAA,CARGC,cAAeC,EAAAA,QACfC,eAAgBD,EAAAA,SAChBE,mBAAoBF,EAAAA,mBACpBG,qBAAsBH,EAAAA,qBACvBI,IAAI,OACHC,OAAMC,EAAAA,KACNC,SAAQD,EAAAA,OACRE,iBAAgBR,EAAAA,UARrB,6H,6BCDJ,EACC,kFCDD,EACC,67BFeD,MAAMS,EAAU,CACZC,SAAS,QACTC,KAAK,gBACLC,cAAc,OACdC,MAAM,gBACNC,QAAQ,KAENC,EAAY,IAAIC,aAClB,EACC,GAAI,EACJ,GAAI,GACJ,EAAI,GACJ,EAAI,EACJ,GAAI,EACJ,EAAI,IAIT,OACIL,KAAK,YACLM,OACI,MAAO,CACHC,GAAI,KACJT,UACAU,mBAHG,EAIHC,qBAJG,EAKHC,YAAY,CACRC,OAAO,EACPC,mBAAoBC,WAAWC,SAAS,IACxCC,MAAO,EACPC,KAAM,KAEVC,UAAU,CACNC,YAAY,CAAC,EAAG,GAAI,GACpBC,SAAS,CAACN,WAAWC,SAAS,KAAMD,WAAWC,SAAS,KAAMD,WAAWC,SAAS,IAClFM,MAAM,CAAC,EAAE,EAAE,IAEfC,OAAO,CACHC,OAAO,CAAC,EAAG,EAAG,GACdC,SAAS,CAAC,EAAG,EAAG,GAChBC,GAAG,CAAC,EAAE,EAAE,IAEZC,KAAK,KACLC,SAAS,GAIhB,EACDC,QAAS,CACLC,OACIC,KAAKJ,KAAOI,KAAKC,MAAML,KACvBI,KAAKtB,GAAKsB,KAAKJ,KAAKM,QACpBF,KAAKG,OAASH,KAAKJ,KAAKQ,YACxBJ,KAAKK,QAAUL,KAAKJ,KAAKU,aAEzBN,KAAKnB,YAAYC,OAASkB,KAAKtB,GAAGyB,OAAOI,YAAcP,KAAKtB,GAAGyB,OAAOK,aACtER,KAAKJ,KAAKa,UAAU,WAAW,CAACC,cAAc,EAAEjC,KAAKF,GAExD,EACDoC,SACI,MAAMC,EAAgB,CAACZ,KAAKJ,KAAKiB,mBAAmBC,EAAEd,KAAKJ,KAAKiB,mBAAmBE,GAC7EC,EAAa,CAAChB,KAAKtB,GAAGyB,OAAOc,MAAMjB,KAAKtB,GAAGyB,OAAOe,QAClDC,EAAOnB,KAAKJ,KAAKwB,UACvBpB,KAAKJ,KAAKyB,WAAW,cAAcL,GACnChB,KAAKJ,KAAKyB,WAAW,SAAST,GAC9BZ,KAAKJ,KAAKyB,WAAW,QAAQF,EAEhC,I,QG9ET,MAAMG,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://rock-sugar/./src/pages/NanoShadertoy/Renderer/index.vue","webpack://rock-sugar/./src/pages/NanoShadertoy/Renderer/resource/vertex-shader.js","webpack://rock-sugar/./src/pages/NanoShadertoy/Renderer/resource/fragment-shader.js","webpack://rock-sugar/./src/pages/NanoShadertoy/Renderer/index.vue?fceb"],"sourcesContent":["<template lang=\"html\">\r\n    <nano_shader_toy_renderer_page\r\n        :prop_des_data=\"desData\"\r\n        :prop_ui_setter=\"uiSetter\"\r\n        :prop_vertex_shader=\"vertexShaderSource\"\r\n        :prop_fragment_shader=\"fragmentShaderSource\"\r\n        ref=\"page\"\r\n        @Init=\"Init\"\r\n        @Render=\"Render\"\r\n        @prop_ui_setter=\"uiSetter\"\r\n    />\r\n</template>\r\n<script>\r\nimport vertexShaderSource from './resource/vertex-shader'\r\nimport fragmentShaderSource from './resource/fragment-shader'\r\n\r\nconst desData = {\r\n    category:\"Webgl\",\r\n    name:\"NanoShaderToy\",\r\n    buttonContent:\"查看源码\",\r\n    title:\"Shadertoy 渲染器\",\r\n    content:\".\"\r\n}\r\nconst positions = new Float32Array(\r\n    [\r\n    -1, -1,  // first triangle\r\n     1, -1,\r\n    -1,  1,\r\n    -1,  1,  // second triangle\r\n     1, -1,\r\n     1,  1,\r\n]\r\n)\r\n\r\nexport default {\r\n    name:'SpotLight',\r\n    data() {\r\n        return {\r\n            gl: null,\r\n            desData,\r\n            vertexShaderSource,\r\n            fragmentShaderSource,\r\n            perspective:{\r\n                aspect:0,\r\n                fieldOfViewRadians: HNWUEngine.degToRad(60),\r\n                zNear: 1,\r\n                zFar: 2000,\r\n            },\r\n            transform:{\r\n                translation:[0, 0, -0],\r\n                rotation:[HNWUEngine.degToRad(180), HNWUEngine.degToRad(200), HNWUEngine.degToRad(0)],\r\n                scale:[1,1,1]\r\n            },\r\n            camera:{\r\n                target:[0, 0, 0],\r\n                position:[0, 0, 2],\r\n                up:[0,1,0]\r\n            },\r\n            page:null,\r\n            uiSetter:[],\r\n\r\n\r\n        }\r\n    },\r\n    methods: {\r\n        Init(){\r\n            this.page = this.$refs.page;\r\n            this.gl = this.page.getGL();\r\n            this.canvas = this.page.getCanvas();\r\n            this.program = this.page.getProgram();\r\n            //Get bufferinfo and setters.\r\n            this.perspective.aspect = this.gl.canvas.clientWidth / this.gl.canvas.clientHeight;\r\n            this.page.addBuffer(\"position\",{numComponents:2,data:positions});\r\n\r\n        },\r\n        Render(){\r\n            const mousePosition = [this.page.getMousePosition().x,this.page.getMousePosition().y];\r\n            const canvasRect = [this.gl.canvas.width,this.gl.canvas.height]\r\n            const time = this.page.getTime();\r\n            this.page.addUniform(\"iResolution\",canvasRect);\r\n            this.page.addUniform(\"iMouse\",mousePosition);\r\n            this.page.addUniform(\"iTime\",time);\r\n           \r\n        },\r\n\r\n    }\r\n}\r\n\r\n</script>","export default \r\n`\r\nattribute vec4 a_position;\r\n\r\nvoid main() {\r\n  gl_Position = a_position;\r\n}\r\n`\r\n\r\n","export default\r\n`\r\nprecision highp float;\r\n\r\nuniform vec2 iResolution;\r\nuniform vec2 iMouse;\r\nuniform float iTime;\r\nvec3 palette( float t ) {\r\n    vec3 a = vec3(0.5, 0.5, 0.5);\r\n    vec3 b = vec3(0.5, 0.5, 0.5);\r\n    vec3 c = vec3(1.0, 1.0, 1.0);\r\n    vec3 d = vec3(0.263,0.416,0.557);\r\n\r\n    return a + b*cos( 6.28318*(c*t+d) );\r\n}\r\n\r\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\r\n    vec2 uv = (fragCoord * 2.0 - iResolution.xy) / iResolution.y;\r\n    vec2 uv0 = uv;\r\n    vec3 finalColor = vec3(0.0);\r\n    \r\n    for (float i = 0.0; i < 4.0; i++) {\r\n        uv = fract(uv * 1.5) - 0.5;\r\n\r\n        float d = length(uv) * exp(-length(uv0));\r\n\r\n        vec3 col = palette(length(uv0) + i*.4 + iTime*.4);\r\n\r\n        d = sin(d*8. + iTime)/8.;\r\n        d = abs(d);\r\n\r\n        d = pow(0.01 / d, 1.2);\r\n\r\n        finalColor += col * d;\r\n    }\r\n        \r\n    fragColor = vec4(finalColor, 1.0);\r\n}\r\n\r\n\r\nvoid main() {\r\n    mainImage(gl_FragColor, gl_FragCoord.xy);\r\n}\r\n`","import { render } from \"./index.vue?vue&type=template&id=2f142539&lang=html\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"F:\\\\Note-Haruluya\\\\Project\\\\Rock-sugar\\\\rock-sugar\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_nano_shader_toy_renderer_page","prop_des_data","$data","prop_ui_setter","prop_vertex_shader","prop_fragment_shader","ref","onInit","$options","onRender","onProp_ui_setter","desData","category","name","buttonContent","title","content","positions","Float32Array","data","gl","vertexShaderSource","fragmentShaderSource","perspective","aspect","fieldOfViewRadians","HNWUEngine","degToRad","zNear","zFar","transform","translation","rotation","scale","camera","target","position","up","page","uiSetter","methods","Init","this","$refs","getGL","canvas","getCanvas","program","getProgram","clientWidth","clientHeight","addBuffer","numComponents","Render","mousePosition","getMousePosition","x","y","canvasRect","width","height","time","getTime","addUniform","__exports__","render"],"sourceRoot":""}