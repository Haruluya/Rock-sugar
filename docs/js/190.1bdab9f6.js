"use strict";(self["webpackChunkrock_sugar"]=self["webpackChunkrock_sugar"]||[]).push([[190],{1190:function(e,n,t){t.r(n),t.d(n,{default:function(){return u}});var a=t(3396);function o(e,n,t,o,i,r){const s=(0,a.up)("nano_shader_toy_renderer_page");return(0,a.wg)(),(0,a.j4)(s,{prop_des_data:i.desData,prop_ui_setter:i.uiSetter,prop_vertex_shader:i.vertexShaderSource,prop_fragment_shader:i.fragmentShaderSource,ref:"page",onInit:r.Init,onRender:r.Render,onProp_ui_setter:i.uiSetter},null,8,["prop_des_data","prop_ui_setter","prop_vertex_shader","prop_fragment_shader","onInit","onRender","onProp_ui_setter"])}t(8675),t(3408),t(4590);var i="\nattribute vec4 a_position;\n\nvoid main() {\n  gl_Position = a_position;\n}\n",r="\nprecision highp float;\n\nuniform vec2 iResolution;\nuniform vec2 iMouse;\nuniform float iTime;\nvec3 palette( float t ) {\n    vec3 a = vec3(0.5, 0.5, 0.5);\n    vec3 b = vec3(0.5, 0.5, 0.5);\n    vec3 c = vec3(1.0, 1.0, 1.0);\n    vec3 d = vec3(0.263,0.416,0.557);\n\n    return a + b*cos( 6.28318*(c*t+d) );\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 uv = (fragCoord * 2.0 - iResolution.xy) / iResolution.y;\n    vec2 uv0 = uv;\n    vec3 finalColor = vec3(0.0);\n    \n    for (float i = 0.0; i < 4.0; i++) {\n        uv = fract(uv * 1.5) - 0.5;\n\n        float d = length(uv) * exp(-length(uv0));\n\n        vec3 col = palette(length(uv0) + i*.4 + iTime*.4);\n\n        d = sin(d*8. + iTime)/8.;\n        d = abs(d);\n\n        d = pow(0.01 / d, 1.2);\n\n        finalColor += col * d;\n    }\n        \n    fragColor = vec4(finalColor, 1.0);\n}\n\n\nvoid main() {\n    mainImage(gl_FragColor, gl_FragCoord.xy);\n}\n";const s={category:"Webgl",name:"NanoShaderToy",buttonContent:"查看源码",title:"Shadertoy 渲染器",content:"."},g=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]);var d={name:"SpotLight",data(){return{gl:null,desData:s,vertexShaderSource:i,fragmentShaderSource:r,perspective:{aspect:0,fieldOfViewRadians:HNWUEngine.degToRad(60),zNear:1,zFar:2e3},transform:{translation:[0,0,-0],rotation:[HNWUEngine.degToRad(180),HNWUEngine.degToRad(200),HNWUEngine.degToRad(0)],scale:[1,1,1]},camera:{target:[0,0,0],position:[0,0,2],up:[0,1,0]},page:null,uiSetter:[]}},methods:{Init(){this.page=this.$refs.page,this.gl=this.page.getGL(),this.canvas=this.page.getCanvas(),this.program=this.page.getProgram(),this.perspective.aspect=this.gl.canvas.clientWidth/this.gl.canvas.clientHeight,this.page.addBuffer("position",{numComponents:2,data:g})},Render(){const e=[this.page.getMousePosition().x,this.page.getMousePosition().y],n=[this.gl.canvas.width,this.gl.canvas.height],t=this.page.getTime();this.page.addUniform("iResolution",n),this.page.addUniform("iMouse",e),this.page.addUniform("iTime",t)}}},c=t(89);const p=(0,c.Z)(d,[["render",o]]);var u=p}}]);
//# sourceMappingURL=190.1bdab9f6.js.map