{"version":3,"file":"js/544.acd8f244.js","mappings":"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","sources":["webpack://rock-sugar/./src/pages/CG/Experiment/DrawEllipse/index.vue","webpack://rock-sugar/./src/pages/CG/Experiment/DrawEllipse/index.vue?334f"],"sourcesContent":["<template lang=\"html\">\r\n    <nano_cg_experiment_page\r\n        :prop_des_data=\"desData\"\r\n        :prop_ui_setter=\"uiSetter\"\r\n        :prop_section_params=\"sectionParams\"\r\n        ref=\"page\"\r\n    />\r\n</template>\r\n<script>\r\n\r\n\r\n\r\nimport uiSetting from \"../ui-setting\"\r\n\r\nconst desData = {\r\n    category:\"Experiment\",\r\n    name:\"DrawEllipse\",\r\n    buttonContent:\"查看源码\",\r\n    title:\"绘制椭圆\",\r\n    content:\"Draw an ellipse.\"\r\n}\r\n\r\n/*\r\n    @author:haruluya\r\n    @des: Ex06 Draw an ellipse.\r\n*/\r\n\r\nexport default {\r\n    name: \"DrawEllipse\",\r\n    data() {\r\n        return {\r\n            canvas:null,\r\n            ctx:null,\r\n            // component data.\r\n            desData,\r\n\r\n            // params of page.\r\n            sectionParams:{\r\n                circleCenter:{x:30,y:18},\r\n                radiusA:20,\r\n                radiusB:10,\r\n                color:'#0bc6e3',\r\n                girdSize:6,\r\n                debugContent:null,\r\n                screenTransform:{x:0,y:0,scale:100}\r\n            }\r\n        };\r\n    },\r\n\r\n    computed:{\r\n        //uiSetter.\r\n        uiSetter(){\r\n            let sectionParams = this.sectionParams;\r\n            return [\r\n                { type: \"slider-vector\", id: \"circleCenter\", value: sectionParams.circleCenter, min: { x: 0, y: 0 }, max: { x: 500, y: 500 }, callback: uiSetting.globalUiCallbacks.updatePoint(this, \"circleCenter\") },\r\n                {type:\"slider\", id:\"radiusA\", value: sectionParams.radiusA, min:0, max:100, \r\n                    callback:uiSetting.globalUiCallbacks.updateValue(this,\"radiusA\")\r\n                },\r\n                {type:\"slider\", id:\"radiusB\", value: sectionParams.radiusB, min:0, max:100, \r\n                    callback:uiSetting.globalUiCallbacks.updateValue(this,\"radiusB\")\r\n                },\r\n                {type:\"slider\", id:\"girdSize\", value: sectionParams.girdSize, min:1, max:100, \r\n                    callback:uiSetting.globalUiCallbacks.updateValue(this,\"girdSize\")\r\n                },\r\n                { type: \"color\",id: \"color\",default: sectionParams.color, callback: uiSetting.globalUiCallbacks.updateValue(this, \"color\")}\r\n            ]\r\n        },\r\n    },\r\n    methods: {\r\n        Init() {\r\n            this.$refs.page.Init();\r\n\r\n            this.canvas = this.$refs.page.getCanvas();\r\n            this.ctx = canvas.getContext('2d');\r\n            this.$refs.page.setViewer(this.sectionParams.screenTransform,this.Render);\r\n\r\n            this.Render();\r\n        },\r\n        Render() {\r\n            this.$refs.page.Render();\r\n            \r\n            const ctx = this.ctx;\r\n            const sectionParams = this.sectionParams;\r\n            const gridx = parseInt(this.canvas.width / this.sectionParams.girdSize) - 1;\r\n            const gridy = parseInt(this.canvas.height / this.sectionParams.girdSize) - 1;\r\n\r\n            ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n\r\n            this.sectionParams.girdSize += this.$refs.page.girdSize;\r\n            uiSetting.drawGrid(this);\r\n            \r\n            if(this.sectionParams.girdSize  <= 0) {\r\n                    this.sectionParams.girdSize = 1\r\n            }\r\n            this.sectionParams.debugContent = [{\r\n                title:\"grid\",content:\"The number of cells in the x direction: \" + gridx + \"\\nThe number of cells in the y direction: \" + gridy,\r\n            }];\r\n\r\n            ctx.fillStyle = sectionParams.color;\r\n            \r\n            // invalide.\r\n            const radiusA = this.sectionParams.radiusA;\r\n            const radiusB = this.sectionParams.radiusB;\r\n            const circleCenter = this.sectionParams.circleCenter;\r\n            if(radiusA==0 || radiusB==0)\r\n                return;\r\n            let d;\r\n            let x,y;\r\n            x = 0; y = radiusB;\r\n            d = 4*radiusB*radiusB - 4*radiusA*radiusA*radiusB + radiusA*radiusA;\r\n            while((radiusA*radiusA*(2*y-1))>=2*(radiusB*radiusB*(x+1)))\r\n            {\r\n                uiSetting.drawPointInGrid(this,x + circleCenter.x,  y + circleCenter.y);\r\n                uiSetting.drawPointInGrid(this,-x+ circleCenter.x,  y + circleCenter.y);\r\n                uiSetting.drawPointInGrid(this,x + circleCenter.x,  -y+ circleCenter.y);\r\n                uiSetting.drawPointInGrid(this,-x+ circleCenter.x,  -y+ circleCenter.y);\r\n\r\n                if(d<0)\r\n                    d=d+4*radiusB*radiusB*(2*x+3);\r\n                else{\r\n                    d=d+4*radiusB*radiusB*(2*x+3)-8*radiusA*radiusA*(y-1);\r\n                    y--;\r\n                }\r\n                x++;\r\n            }\r\n            x = radiusA; y = 0;\r\n            d = 4*radiusA*radiusA - 4*radiusA*radiusB*radiusB + radiusB*radiusB;\r\n            while((radiusB*radiusB*(2*x-1))>2*(radiusA*radiusA*(y-1)))\r\n            {\r\n                uiSetting.drawPointInGrid(this,x + circleCenter.x,  y + circleCenter.y);\r\n                uiSetting.drawPointInGrid(this,-x+ circleCenter.x,  y + circleCenter.y);\r\n                uiSetting.drawPointInGrid(this,x + circleCenter.x,  -y+ circleCenter.y);\r\n                uiSetting.drawPointInGrid(this,-x+ circleCenter.x,  -y+ circleCenter.y);\r\n\r\n                if(d<0)\r\n                    d=d+4*radiusA*radiusA*(2*y+3);\r\n                else{\r\n                    d=d+4*radiusA*radiusA*(2*y+3)-8*radiusB*radiusB*(x-1);\r\n                    x--;\r\n                }\r\n                y++;\r\n            }\r\n        },\r\n        SetUI(){\r\n            this.$refs.page.SetUI();\r\n        },\r\n    },\r\n    mounted() {\r\n        this.Init();\r\n        this.SetUI();\r\n    },\r\n  \r\n};\r\n\r\n\r\n\r\n\r\n</script>\r\n","import { render } from \"./index.vue?vue&type=template&id=391c692e&lang=html\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"F:\\\\Note-Haruluya\\\\Project\\\\Rock-sugar\\\\rock-sugar\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_nano_cg_experiment_page","prop_des_data","$data","prop_ui_setter","$options","prop_section_params","ref","desData","category","name","buttonContent","title","content","data","canvas","ctx","sectionParams","circleCenter","x","y","radiusA","radiusB","color","girdSize","debugContent","screenTransform","scale","computed","uiSetter","this","type","id","value","min","max","callback","uiSetting","default","methods","Init","$refs","page","getCanvas","getContext","setViewer","Render","gridx","parseInt","width","gridy","height","clearRect","fillStyle","d","SetUI","mounted","__exports__","render"],"sourceRoot":""}