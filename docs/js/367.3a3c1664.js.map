{"version":3,"file":"js/367.3a3c1664.js","mappings":"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","sources":["webpack://rock-sugar/./src/pages/Webgl/WebglDemo/DataTexture/index.vue","webpack://rock-sugar/./src/pages/Webgl/WebglDemo/DataTexture/resource/vertex-shader.js","webpack://rock-sugar/./src/pages/Webgl/WebglDemo/DataTexture/resource/fragment-shader.js","webpack://rock-sugar/./src/pages/Webgl/WebglDemo/DataTexture/resource/data.js","webpack://rock-sugar/./src/pages/Webgl/WebglDemo/DataTexture/index.vue?202b"],"sourcesContent":["<template lang=\"html\">\r\n    <nano_webgl_demo_panel\r\n        :prop_des_data=\"desData\"\r\n        :prop_ui_setter=\"uiSetter\"\r\n        :prop_vertex_shader=\"vertexShaderSource\"\r\n        :prop_fragment_shader=\"fragmentShaderSource\"\r\n        :prop_section_params=\"sectionParams\"\r\n        ref=\"page\"\r\n        @Init=\"Init\"\r\n        @Render=\"Render\"\r\n        @prop_ui_setter=\"uiSetter\"\r\n    />\r\n</template>\r\n<script>\r\nimport vertexShaderSource from './resource/vertex-shader.js'\r\nimport fragmentShaderSource from './resource/fragment-shader.js'\r\nimport data from './resource/data.js'\r\nimport uiSetting from \"../ui-setting\"\r\n\r\nconst desData = {\r\n    category:\"Webgl\",\r\n    name:\"DataTexture\",\r\n    buttonContent:\"查看源码\",\r\n    title:\"程序纹理\",\r\n    content:\"The next is DataHuman.\"\r\n}\r\n\r\nconst positions = data.position;\r\nconst texCoords = data.texcoord;\r\n\r\n\r\nexport default {\r\n    name:'DataTexture',\r\n    data() {\r\n        return {\r\n            gl: null,\r\n            canvas: null,\r\n            program: null,\r\n            vertexShaderSource,\r\n            fragmentShaderSource,\r\n            desData,\r\n            transform:{\r\n                translation:[0, 0, 0],\r\n                rotation:[HNWUEngine.degToRad(0), HNWUEngine.degToRad(0), HNWUEngine.degToRad(0)],\r\n                scale:[1,1,1]\r\n            },\r\n            sectionParams:{\r\n                texture:0,\r\n            },\r\n            perspective:{\r\n                aspect:0,\r\n                fieldOfViewRadians:  HNWUEngine.degToRad(60),\r\n                zNear: 1,\r\n                zFar: 2000,\r\n            },\r\n            camera:{\r\n                target:[0, 0, 0],\r\n                position:[0, 0, 2],\r\n                up:[0,1,0]\r\n            },\r\n        }\r\n    },\r\n    methods: {\r\n        Init(){\r\n            this.page = this.$refs.page;\r\n            this.gl = this.page.getGL();\r\n            this.canvas = this.page.getCanvas();\r\n            this.program = this.page.getProgram();\r\n            const gl = this.gl;\r\n            this.perspective.aspect = gl.canvas.clientWidth / gl.canvas.clientHeight;\r\n            //Get bufferinfo and setters.\r\n            this.page.addBuffer(\"position\",{numComponents:3,data:positions});\r\n            this.page.addBuffer(\"texcoord\",{numComponents:2,data:texCoords});\r\n            this.page.setTransform(this.transform);\r\n            this.sectionParams.texture = gl.createTexture();\r\n            gl.bindTexture(gl.TEXTURE_2D, this.sectionParams.texture);\r\n\r\n            // fill texture with 3x2 pixels\r\n            const level = 0;\r\n            const internalFormat = gl.LUMINANCE;\r\n            const width = 3;\r\n            const height = 2;\r\n            const border = 0;\r\n            const format = gl.LUMINANCE;\r\n            const type = gl.UNSIGNED_BYTE;\r\n            const data = new Uint8Array([\r\n                128,  64, 128,\r\n                0, 192,   0,\r\n            ]);\r\n            const alignment = 1;\r\n            gl.pixelStorei(gl.UNPACK_ALIGNMENT, alignment);\r\n            gl.texImage2D(gl.TEXTURE_2D, level, internalFormat, width, height, border,\r\n                            format, type, data);\r\n\r\n            // set the filtering so we don't need mips and it's not filtered\r\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n\r\n        },\r\n        Render(){\r\n            const gl = this.gl;\r\n            const program = this.program;\r\n\r\n            gl.enable(gl.CULL_FACE);\r\n            gl.enable(gl.DEPTH_TEST);\r\n            \r\n            //mvp matrix.\r\n            const mvp = this.page.caculateMVPMatrix(this.camera,this.perspective,this.transform);\r\n            this.page.addUniform(\"u_matrix\",mvp);\r\n\r\n            gl.uniform1i(gl.getUniformLocation(program, \"u_texture\"), 0);\r\n            this.page.glDraw({mode:gl.TRIANGLES,first:0,count:6*6})\r\n\r\n        },\r\n    }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@import \"../index.less\";\r\n</style>\r\n","export default\r\n`\r\nattribute vec4 a_position;\r\nattribute vec2 a_texcoord;\r\n\r\nuniform mat4 u_matrix;\r\n\r\nvarying vec2 v_texcoord;\r\n\r\nvoid main() {\r\n  // Multiply the position by the matrix.\r\n  gl_Position = u_matrix * a_position;\r\n\r\n  // Pass the texcoord to the fragment shader.\r\n  v_texcoord = a_texcoord;\r\n}\r\n`","export default\r\n`\r\nprecision mediump float;\r\n            \r\n// Passed in from the vertex shader.\r\nvarying vec2 v_texcoord;\r\n\r\n// The texture.\r\nuniform sampler2D u_texture;\r\n\r\nvoid main() {\r\n   gl_FragColor = texture2D(u_texture, v_texcoord);\r\n}\r\n`","export default\r\n{\r\n    position:new Float32Array(\r\n        [   \r\n            -0.5, -0.5,  -0.5,\r\n            -0.5,  0.5,  -0.5,\r\n            0.5, -0.5,  -0.5,\r\n            -0.5,  0.5,  -0.5,\r\n            0.5,  0.5,  -0.5,\r\n            0.5, -0.5,  -0.5,\r\n\r\n            -0.5, -0.5,   0.5,\r\n            0.5, -0.5,   0.5,\r\n            -0.5,  0.5,   0.5,\r\n            -0.5,  0.5,   0.5,\r\n            0.5, -0.5,   0.5,\r\n            0.5,  0.5,   0.5,\r\n\r\n            -0.5,   0.5, -0.5,\r\n            -0.5,   0.5,  0.5,\r\n            0.5,   0.5, -0.5,\r\n            -0.5,   0.5,  0.5,\r\n            0.5,   0.5,  0.5,\r\n            0.5,   0.5, -0.5,\r\n\r\n            -0.5,  -0.5, -0.5,\r\n            0.5,  -0.5, -0.5,\r\n            -0.5,  -0.5,  0.5,\r\n            -0.5,  -0.5,  0.5,\r\n            0.5,  -0.5, -0.5,\r\n            0.5,  -0.5,  0.5,\r\n\r\n            -0.5,  -0.5, -0.5,\r\n            -0.5,  -0.5,  0.5,\r\n            -0.5,   0.5, -0.5,\r\n            -0.5,  -0.5,  0.5,\r\n            -0.5,   0.5,  0.5,\r\n            -0.5,   0.5, -0.5,\r\n\r\n            0.5,  -0.5, -0.5,\r\n            0.5,   0.5, -0.5,\r\n            0.5,  -0.5,  0.5,\r\n            0.5,  -0.5,  0.5,\r\n            0.5,   0.5, -0.5,\r\n            0.5,   0.5,  0.5,\r\n\r\n            ]),\r\n    texcoord:[\r\n        0, 0,\r\n        0, 1,\r\n        1, 0,\r\n        0, 1,\r\n        1, 1,\r\n        1, 0,\r\n\r\n        0, 0,\r\n        0, 1,\r\n        1, 0,\r\n        1, 0,\r\n        0, 1,\r\n        1, 1,\r\n\r\n        0, 0,\r\n        0, 1,\r\n        1, 0,\r\n        0, 1,\r\n        1, 1,\r\n        1, 0,\r\n\r\n        0, 0,\r\n        0, 1,\r\n        1, 0,\r\n        1, 0,\r\n        0, 1,\r\n        1, 1,\r\n\r\n        0, 0,\r\n        0, 1,\r\n        1, 0,\r\n        0, 1,\r\n        1, 1,\r\n        1, 0,\r\n\r\n        0, 0,\r\n        0, 1,\r\n        1, 0,\r\n        1, 0,\r\n        0, 1,\r\n        1, 1,\r\n\r\n    ],\r\n}","import { render } from \"./index.vue?vue&type=template&id=93395d16&scoped=true&lang=html\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=93395d16&lang=less&scoped=true\"\n\nimport exportComponent from \"F:\\\\Note-Haruluya\\\\Project\\\\Rock-sugar\\\\rock-sugar\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-93395d16\"]])\n\nexport default __exports__"],"names":["_createBlock","_component_nano_webgl_demo_panel","prop_des_data","$data","prop_ui_setter","_ctx","prop_vertex_shader","prop_fragment_shader","prop_section_params","ref","onInit","$options","onRender","onProp_ui_setter","position","Float32Array","texcoord","desData","category","name","buttonContent","title","content","positions","data","texCoords","gl","canvas","program","vertexShaderSource","fragmentShaderSource","transform","translation","rotation","HNWUEngine","degToRad","scale","sectionParams","texture","perspective","aspect","fieldOfViewRadians","zNear","zFar","camera","target","up","methods","Init","this","page","$refs","getGL","getCanvas","getProgram","clientWidth","clientHeight","addBuffer","numComponents","setTransform","createTexture","bindTexture","TEXTURE_2D","level","internalFormat","LUMINANCE","width","height","border","format","type","UNSIGNED_BYTE","Uint8Array","alignment","pixelStorei","UNPACK_ALIGNMENT","texImage2D","texParameteri","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","Render","enable","CULL_FACE","DEPTH_TEST","mvp","caculateMVPMatrix","addUniform","uniform1i","getUniformLocation","glDraw","mode","TRIANGLES","first","count","__exports__","render"],"sourceRoot":""}