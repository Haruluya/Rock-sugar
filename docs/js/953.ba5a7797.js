"use strict";(self["webpackChunkrock_sugar"]=self["webpackChunkrock_sugar"]||[]).push([[953],{8953:function(e,t,a){a.r(t),a.d(t,{default:function(){return l}});var r=a(3396);function n(e,t,a,n,o,i){const s=(0,r.up)("nano_webgl_demo_panel");return(0,r.wg)(),(0,r.j4)(s,{prop_des_data:o.desData,prop_ui_setter:e.uiSetter,prop_vertex_shader:o.vertexShaderSource,prop_fragment_shader:o.fragmentShaderSource,prop_section_params:o.sectionParams,ref:"page",onInit:i.Init,onRender:i.Render,onProp_ui_setter:e.uiSetter},null,8,["prop_des_data","prop_ui_setter","prop_vertex_shader","prop_fragment_shader","prop_section_params","onInit","onRender","onProp_ui_setter"])}var o="\nattribute vec4 a_position;\nattribute vec2 a_texcoord;\n\n\nuniform mat4 u_worldViewProjection;\nvarying vec2 v_texcoord;\n\nvoid main() {\n  gl_Position = u_worldViewProjection * a_position;\n  v_texcoord = a_texcoord;\n}\n",i="\nprecision mediump float;\nvarying vec2 v_texcoord;\nuniform sampler2D u_texture;\n\nvoid main() {\n   gl_FragColor = texture2D(u_texture, v_texcoord);\n}\n",s=(a(8675),a(3408),a(4590),{position:new Float32Array([-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,.5,.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,-.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5]),texcoord:new Float32Array([0,0,0,1,1,0,0,1,1,1,1,0,0,0,1,0,0,1,0,1,1,0,1,1,0,0,0,1,1,0,0,1,1,1,1,0,0,0,1,0,0,1,0,1,1,0,1,1,0,0,0,1,1,0,0,1,1,1,1,0,0,0,1,0,0,1,0,1,1,0,1,1])}),d=(a(720),a(9022));const p={category:"Webgl",name:"ImageTexture",buttonContent:"查看源码",title:"贴图",content:"Maybe putting my picture here is the only way I can make a record."},g=s.position,c=s.texcoord;var u={name:"ImageTexture",data(){return{gl:null,canvas:null,program:null,vertexShaderSource:o,fragmentShaderSource:i,desData:p,transform:{translation:[0,0,0],rotation:[HNWUEngine.degToRad(0),HNWUEngine.degToRad(0),HNWUEngine.degToRad(0)],scale:[1,1,1]},sectionParams:{last:0,fieldOfViewRadians:HNWUEngine.degToRad(60),modelXRotationRadians:HNWUEngine.degToRad(0),modelYRotationRadians:HNWUEngine.degToRad(0),texture:0,img:null},perspective:{aspect:0,fieldOfViewRadians:HNWUEngine.degToRad(60),zNear:1,zFar:2e3},camera:{target:[0,0,0],position:[0,0,2],up:[0,1,0]}}},methods:{LoadImg(){let e=new Image;e.src=d,this.sectionParams.img=e,e.onload=this.$refs.page.Init},Init(){this.sectionParams.img&&(this.page=this.$refs.page,this.gl=this.page.getGL(),this.canvas=this.page.getCanvas(),this.program=this.page.getProgram(),this.perspective.aspect=this.gl.canvas.clientWidth/this.gl.canvas.clientHeight,this.page.addBuffer("position",{numComponents:3,data:g}),this.page.addBuffer("texcoord",{numComponents:2,data:c}),this.page.setTransform(this.transform),this.sectionParams.texture=this.page.addTexture(this.sectionParams.img))},Render(){if(!this.sectionParams.img)return;const e=this.gl;e.enable(e.CULL_FACE),e.enable(e.DEPTH_TEST);const t=this.page.caculateMVPMatrix(this.camera,this.perspective,this.transform);this.page.addUniform("u_worldViewProjection",t),this.page.addUniform("u_texture",this.sectionParams.texture),this.page.glDraw({mode:e.TRIANGLES,first:0,count:36})},isPowerOf2(e){return 0===(e&e-1)}},mounted(){this.LoadImg()}},m=a(89);const h=(0,m.Z)(u,[["render",n],["__scopeId","data-v-4359e919"]]);var l=h},9022:function(e,t,a){e.exports=a.p+"img/haruluya.d6eb9f82.jpg"}}]);
//# sourceMappingURL=953.ba5a7797.js.map